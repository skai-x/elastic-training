{"version": 2, "width": 151, "height": 35, "timestamp": 1635924227, "env": {"SHELL": "/bin/bash", "TERM": "xterm-256color"}}
[0.032499, "o", "\u001b]0;root@9.135.56.234\u0007"]
[0.033204, "o", "[root@VM-56-234-centos ~]# "]
[0.697065, "o", "z"]
[0.993145, "o", "s"]
[1.187047, "o", "h"]
[1.359185, "o", "\r\n"]
[1.410759, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[1.410948, "o", "\u001b]2;root@VM-56-234-centos:~\u0007\u001b]1;~\u0007"]
[1.415272, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~ \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[1.415362, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[2.299183, "o", "c"]
[2.411397, "o", "\bcl"]
[2.491487, "o", "e"]
[2.57137, "o", "a"]
[2.679559, "o", "r"]
[2.758834, "o", "\u001b[?1l\u001b>"]
[2.759009, "o", "\u001b[?2004l\r\r\n"]
[2.759143, "o", "\u001b]2;clear\u0007"]
[2.759209, "o", "\u001b]1;clear\u0007"]
[2.760385, "o", "\u001b[3J\u001b[H\u001b[2J"]
[2.760468, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[2.760541, "o", "\u001b]2;root@VM-56-234-centos:~\u0007\u001b]1;~\u0007"]
[2.76485, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~ \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[2.764956, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[3.426015, "o", "l"]
[3.48995, "o", "\bls"]
[3.63572, "o", "\u001b[?1l\u001b>"]
[3.635874, "o", "\u001b[?2004l\r\r\n"]
[3.636244, "o", "\u001b]2;ls --color=tty\u0007\u001b]1;ls\u0007"]
[3.637409, "o", "\u001b[0m\u001b[38;5;33mpc\u001b[0m  \u001b[38;5;33mworkload\u001b[0m\r\n"]
[3.637547, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[3.637628, "o", "\u001b]2;root@VM-56-234-centos:~\u0007"]
[3.637664, "o", "\u001b]1;~\u0007"]
[3.641882, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~ \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[3.641986, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[3.889497, "o", "c"]
[4.053205, "o", "\bcd"]
[4.172855, "o", " "]
[4.311869, "o", "p"]
[4.383874, "o", "c"]
[4.570631, "o", "\u001b[1m/\u001b[0m"]
[4.767528, "o", "\b\u001b[0m \b"]
[4.767666, "o", "\u001b[?1l\u001b>\u001b[?2004l\r\r\n"]
[4.768561, "o", "\u001b]2;cd pc\u0007\u001b]1;cd\u0007\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r\u001b]2;root@VM-56-234-centos:~/pc\u0007\u001b]1;~/pc\u0007"]
[4.773079, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/pc \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[4.773189, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[4.956068, "o", "l"]
[5.092114, "o", "\bls"]
[5.150747, "o", "\u001b[?1l\u001b>"]
[5.150881, "o", "\u001b[?2004l\r\r\n"]
[5.151048, "o", "\u001b]2;ls --color=tty\u0007\u001b]1;ls\u0007"]
[5.152469, "o", "inference-pc.yaml  preemptible-pc.yaml  preserved-pc.yaml\r\n"]
[5.15263, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[5.152746, "o", "\u001b]2;root@VM-56-234-centos:~/pc\u0007\u001b]1;~/pc\u0007"]
[5.157112, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/pc \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[5.157192, "o", "\u001b[?1h\u001b="]
[5.15726, "o", "\u001b[?2004h"]
[5.574684, "o", "c"]
[5.711373, "o", "\bca"]
[5.8667, "o", "t"]
[5.976611, "o", " "]
[6.106319, "o", "i"]
[6.240162, "o", "n"]
[6.4688, "o", "ference-pc.yaml\u001b[1m \u001b[0m"]
[7.069525, "o", "\b\u001b[0m \b"]
[7.069663, "o", "\u001b[?1l\u001b>"]
[7.069733, "o", "\u001b[?2004l\r\r\n"]
[7.070074, "o", "\u001b]2;cat inference-pc.yaml\u0007\u001b]1;cat\u0007"]
[7.071258, "o", "apiVersion: scheduling.k8s.io/v1\r\ndescription: Used for online inference related pods that is capable to make low priority pods preempted\r\nkind: PriorityClass\r\nmetadata:\r\n  name: inference-pc\r\npreemptionPolicy: PreemptLowerPriority\r\nvalue: 100000000\r\n"]
[7.071382, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[7.071521, "o", "\u001b]2;root@VM-56-234-centos:~/pc\u0007\u001b]1;~/pc\u0007"]
[7.076041, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/pc \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[7.076166, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[7.48065, "o", "c"]
[7.604556, "o", "\bca"]
[7.798446, "o", "t"]
[7.913861, "o", " "]
[8.096495, "o", "p"]
[8.582869, "o", "r"]
[8.894456, "o", "e"]
[9.206207, "o", "s"]
[9.426516, "o", "e"]
[9.70168, "o", "rved-pc.yaml\u001b[1m \u001b[0m"]
[10.196068, "o", "\b\u001b[0m \b"]
[10.196217, "o", "\u001b[?1l\u001b>\u001b[?2004l\r\r\n"]
[10.196565, "o", "\u001b]2;cat preserved-pc.yaml\u0007\u001b]1;cat\u0007"]
[10.197599, "o", "apiVersion: scheduling.k8s.io/v1\r\ndescription: Used for training pods that should be non-preempting\r\nkind: PriorityClass\r\nmetadata:\r\n  name: preserved-pc\r\npreemptionPolicy: Never\r\nvalue: 90000000\r\n"]
[10.197711, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[10.197789, "o", "\u001b]2;root@VM-56-234-centos:~/pc\u0007\u001b]1;~/pc\u0007"]
[10.2022, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/pc \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[10.2023, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[10.517565, "o", "c"]
[10.646338, "o", "\bca"]
[10.814405, "o", "t"]
[10.988811, "o", " "]
[11.240335, "o", "p"]
[11.358476, "o", "r"]
[11.525825, "o", "e"]
[11.799729, "o", "i"]
[11.960752, "o", "n"]
[12.549224, "o", "\b \b"]
[12.673734, "o", "\b \b"]
[12.794952, "o", "e"]
[13.001067, "o", "mptible-pc.yaml\u001b[1m \u001b[0m"]
[13.39989, "o", "\b\u001b[0m \b"]
[13.400486, "o", "\u001b[?1l\u001b>\u001b[?2004l\r\r\n"]
[13.400557, "o", "\u001b]2;cat preemptible-pc.yaml\u0007\u001b]1;cat\u0007"]
[13.401434, "o", "apiVersion: scheduling.k8s.io/v1\r\ndescription: Used for training pods that are preemptible\r\nkind: PriorityClass\r\nmetadata:\r\n  name: preemptible-pc\r\npreemptionPolicy: Never\r\nvalue: 80000001\r\n"]
[13.401588, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r\u001b]2;root@VM-56-234-centos:~/pc\u0007"]
[13.401661, "o", "\u001b]1;~/pc\u0007"]
[13.406097, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/pc \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[13.406183, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[15.045433, "o", "k"]
[15.458392, "o", "\bku"]
[15.596734, "o", "b"]
[15.708764, "o", "e"]
[15.913685, "o", "c"]
[16.038674, "o", "t"]
[16.147287, "o", "l"]
[16.260398, "o", " "]
[16.377222, "o", "a"]
[16.500332, "o", "p"]
[16.630762, "o", "p"]
[16.812242, "o", "l"]
[16.960204, "o", "y"]
[17.031471, "o", " "]
[17.201354, "o", "-"]
[17.346897, "o", "f"]
[17.465708, "o", " "]
[17.681406, "o", "."]
[17.839645, "o", "/"]
[18.080904, "o", "\u001b[?1l\u001b>"]
[18.081063, "o", "\u001b[?2004l\r\r\n"]
[18.081279, "o", "\u001b]2;kubectl apply -f ./\u0007\u001b]1;kubectl\u0007"]
[18.631179, "o", "priorityclass.scheduling.k8s.io/inference-pc created\r\n"]
[18.802775, "o", "priorityclass.scheduling.k8s.io/preemptible-pc created\r\n"]
[18.972548, "o", "priorityclass.scheduling.k8s.io/preserved-pc created\r\n"]
[18.97563, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[18.975749, "o", "\u001b]2;root@VM-56-234-centos:~/pc\u0007"]
[18.975827, "o", "\u001b]1;~/pc\u0007"]
[18.980486, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/pc \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[18.980594, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[22.582014, "o", "c"]
[22.739299, "o", "\bcd"]
[22.815074, "o", " "]
[23.031606, "o", "."]
[23.161365, "o", "."]
[23.328567, "o", "\u001b[?1l\u001b>"]
[23.328734, "o", "\u001b[?2004l\r\r\n"]
[23.329017, "o", "\u001b]2;cd ..\u0007\u001b]1;cd\u0007\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r\u001b]2;root@VM-56-234-centos:~\u0007\u001b]1;~\u0007"]
[23.333929, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~ \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[23.334037, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[25.159464, "o", "c"]
[25.324639, "o", "\bcd"]
[25.704131, "o", " "]
[25.860578, "o", "w"]
[25.955445, "o", "o"]
[26.087307, "o", "r"]
[26.184502, "o", "k"]
[26.321572, "o", "load\u001b[1m/\u001b[0m"]
[26.708286, "o", "\b\u001b[0m \b"]
[26.708431, "o", "\u001b[?1l\u001b>\u001b[?2004l\r\r\n"]
[26.708913, "o", "\u001b]2;cd workload\u0007\u001b]1;cd\u0007\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[26.713735, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[26.713833, "o", "\u001b[?1h\u001b="]
[26.713912, "o", "\u001b[?2004h"]
[26.943059, "o", "l"]
[27.07969, "o", "\bls"]
[27.171238, "o", "\u001b[?1l\u001b>"]
[27.171408, "o", "\u001b[?2004l\r\r\n"]
[27.172281, "o", "\u001b]2;ls --color=tty\u0007\u001b]1;ls\u0007"]
[27.173112, "o", "inference-mocked.yaml  mpijob_tensorflow-mnist-elastic.yaml\r\n"]
[27.173277, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[27.173359, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[27.177842, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[27.177948, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[28.157881, "o", "c"]
[28.962298, "o", "\b \b"]
[29.143874, "o", "m"]
[29.271546, "o", "\bmo"]
[29.335453, "o", "r"]
[29.499486, "o", "e"]
[29.579474, "o", " "]
[29.912332, "o", "m"]
[30.053956, "o", "p"]
[30.230472, "o", "i"]
[30.596413, "o", "j"]
[30.69289, "o", "o"]
[30.912247, "o", "b_tensorflow-mnist-elastic.yaml\u001b[1m \u001b[0m"]
[31.513994, "o", "\b\u001b[0m \b"]
[31.514156, "o", "\u001b[?1l\u001b>\u001b[?2004l\r\r\n"]
[31.514421, "o", "\u001b]2;more mpijob_tensorflow-mnist-elastic.yaml\u0007\u001b]1;more\u0007"]
[31.515696, "o", "apiVersion: kubeflow.org/v1\r\nkind: MPIJob\r\nmetadata:\r\n  name: tensorflow-mnist-elastic\r\nspec:\r\n"]
[31.515727, "o", "  slotsPerWorker: 1\r\n  cleanPodPolicy: Running\r\n  mpiReplicaSpecs:\r\n    Launcher:\r\n      replicas: 1\r\n      template:\r\n        spec:\r\n"]
[31.515748, "o", "          priorityClassName: preserved-pc\r\n          containers:\r\n          - image: horovod/horovod:0.20.0-tf2.3.0-torch1.6.0-mxnet1.5.0-py3.7-cpu\r\n            name: mpi-launcher\r\n"]
[31.515765, "o", "            command:\r\n            - horovodrun\r\n            args:\r\n"]
[31.515785, "o", "            - -np\r\n            - \"2\"\r\n            - --min-np\r\n            - \"1\"\r\n"]
[31.515802, "o", "            - --max-np\r\n            - \"3\"\r\n"]
[31.515816, "o", "            - --host-discovery-script\r\n            - /etc/mpi/discover_hosts.sh\r\n            - python\r\n"]
[31.515833, "o", "            - /examples/elastic/tensorflow2_mnist_elastic.py\r\n            resources:\r\n              requests:\r\n"]
[31.515905, "o", "                cpu: 1\r\n                memory: 2Gi\r\n              limits:\r\n"]
[31.515996, "o", "\u001b[7m--More--(65%)\u001b[27m"]
[32.386488, "o", "\r                cpu: 1\r\n                memory: 2Gi\r\n    Worker:\r\n      replicas: 2\r\n      template:\r\n        spec:\r\n"]
[32.38657, "o", "          priorityClassName: preemptible-pc\r\n          containers:\r\n          - image: horovod/horovod:0.20.0-tf2.3.0-torch1.6.0-mxnet1.5.0-py3.7-cpu\r\n            name: mpi-worker\r\n            resources:\r\n              requests:\r\n                cpu: 2\r\n                memory: 4Gi\r\n              limits:\r\n                cpu: 2\r\n                memory: 4Gi\r\n"]
[32.386877, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[32.387045, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[32.391794, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[32.391875, "o", "\u001b[?1h\u001b="]
[32.391932, "o", "\u001b[?2004h"]
[34.015754, "o", "k"]
[34.186399, "o", "\bku"]
[34.273738, "o", "b"]
[34.408719, "o", "e"]
[34.685383, "o", "c"]
[34.846512, "o", "t"]
[34.972795, "o", "l"]
[35.095308, "o", " "]
[35.748857, "o", "c"]
[35.928711, "o", "r"]
[36.045737, "o", "e"]
[36.129337, "o", "a"]
[36.258316, "o", "t"]
[36.437563, "o", "e"]
[36.631732, "o", " "]
[36.732844, "o", "-"]
[36.858647, "o", "f"]
[36.970471, "o", " "]
[37.192654, "o", "."]
[37.358907, "o", "/"]
[37.577206, "o", "m"]
[37.730303, "o", "p"]
[37.79237, "o", "i"]
[38.098737, "o", "job_tensorflow-mnist-elastic.yaml\u001b[1m \u001b[0m"]
[38.877957, "o", "\b\u001b[0m \b"]
[38.878109, "o", "\u001b[?1l\u001b>\u001b[?2004l\r\r\n"]
[38.878401, "o", "\u001b]2;kubectl create -f ./mpijob_tensorflow-mnist-elastic.yaml\u0007\u001b]1;kubectl\u0007"]
[39.369535, "o", "mpijob.kubeflow.org/tensorflow-mnist-elastic created\r\n"]
[39.372631, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[39.372771, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007"]
[39.372844, "o", "\u001b]1;~/workload\u0007"]
[39.377593, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[39.377693, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[39.931614, "o", "k"]
[40.079178, "o", "\bku"]
[40.147257, "o", "b"]
[40.240784, "o", "e"]
[40.450322, "o", "c"]
[40.589334, "o", "t"]
[40.685954, "o", "l"]
[40.803741, "o", " "]
[40.864612, "o", "g"]
[40.945872, "o", "e"]
[41.081509, "o", "t"]
[41.152363, "o", " "]
[41.297625, "o", "p"]
[41.450065, "o", "o"]
[41.686462, "o", "\u001b[?1l\u001b>"]
[41.687043, "o", "\u001b[?2004l\r\r\n\u001b]2;kubectl get po\u0007\u001b]1;kubectl\u0007"]
[42.017731, "o", "NAME                                READY   STATUS     RESTARTS   AGE\r\ntensorflow-mnist-elastic-launcher   0/1     Init:0/1   0          2s\r\ntensorflow-mnist-elastic-worker-0   1/1     Running    0          2s\r\ntensorflow-mnist-elastic-worker-1   1/1     Running    0          2s\r\n"]
[42.019201, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[42.019341, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[42.024032, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[42.024133, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[42.572377, "o", "k"]
[42.730034, "o", "\bku"]
[42.828657, "o", "b"]
[42.928431, "o", "e"]
[43.114044, "o", "c"]
[43.260457, "o", "t"]
[43.349642, "o", "l"]
[43.459611, "o", " "]
[43.604389, "o", "l"]
[43.754969, "o", "o"]
[43.822793, "o", "g"]
[43.973821, "o", "s"]
[44.054407, "o", " "]
[44.195161, "o", "-"]
[44.715197, "o", "f"]
[44.86504, "o", " "]
[47.357448, "o", "\u001b[7mtensorflow-mnist-elastic-launcher\u001b[27m"]
[48.664607, "o", "\u001b[33D\u001b[27mt\u001b[27me\u001b[27mn\u001b[27ms\u001b[27mo\u001b[27mr\u001b[27mf\u001b[27ml\u001b[27mo\u001b[27mw\u001b[27m-\u001b[27mm\u001b[27mn\u001b[27mi\u001b[27ms\u001b[27mt\u001b[27m-\u001b[27me\u001b[27ml\u001b[27ma\u001b[27ms\u001b[27mt\u001b[27mi\u001b[27mc\u001b[27m-\u001b[27ml\u001b[27ma\u001b[27mu\u001b[27mn\u001b[27mc\u001b[27mh\u001b[27me\u001b[27mr"]
[48.664753, "o", "\u001b[?1l\u001b>\u001b[?2004l\r\r\n"]
[48.66496, "o", "\u001b]2;kubectl logs -f tensorflow-mnist-elastic-launcher\u0007\u001b]1;kubectl\u0007"]
[49.110669, "o", "Wed Nov  3 07:24:32 2021[0]<stderr>:+ POD_NAME=tensorflow-mnist-elastic-worker-1\r\nWed Nov  3 07:24:32 2021[0]<stderr>:+ shift\r\n"]
[49.110818, "o", "Wed Nov  3 07:24:32 2021[0]<stderr>:+ /opt/kube/kubectl exec tensorflow-mnist-elastic-worker-1 -- /bin/sh -c cd /examples > /dev/null 2>&1 ; HOROVOD_HOSTNAME=tensorflow-mnist-elastic-worker-1 HOROVOD_RANK=0 HOROVOD_SIZE=2 HOROVOD_LOCAL_RANK=0 HOROVOD_LOCAL_SIZE=1 HOROVOD_CROSS_RANK=0 HOROVOD_CROSS_SIZE=2  PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin HOSTNAME=tensorflow-mnist-elastic-launcher OMPI_MCA_plm_rsh_agent=/etc/mpi/kubexec.sh OMPI_MCA_orte_default_hostfile=/etc/mpi/hostfile NVIDIA_VISIBLE_DEVICES='' NVIDIA_DRIVER_CAPABILITIES='' KUBERNETES_SERVICE_HOST=172.16.252.1 KUBERNETES_SERVICE_PORT=443 KUBERNETES_SERVICE_PORT_HTTPS=443 KUBERNETES_PORT=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP_PROTO=tcp KUBERNETES_PORT_443_TCP_PORT=443 KUBERNETES_PORT_443_TCP_ADDR=172.16.252.1 TENSORFLOW_VERSION=2.3.0 PYTORCH_VERSION=1.6.0 TORCHVISION_VERSION=0.7.0 MXNET_VERSION=1.5.0 PYTHON_VERSION=3.7 HOME=/root LC_CTYPE=C.UTF-8 HOROVOD_STALL_CHECK_TIME_S"]
[49.110851, "o", "ECONDS=60 HOROVOD_STALL_SHUTDOWN_TIME_SECONDS=0 HOROVOD_NUM_NCCL_STREAMS=1 HOROVOD_CCL_BGT_AFFINITY=0 HOROVOD_GLOO_TIMEOUT_SECONDS=30 PYTHONUNBUFFERED=1 HOROVOD_GLOO_RENDEZVOUS_ADDR=172.16.0.170 HOROVOD_GLOO_RENDEZVOUS_PORT=21295 HOROVOD_CONTROLLER=gloo HOROVOD_CPU_OPERATIONS=gloo HOROVOD_GLOO_IFACE=eth0 NCCL_SOCKET_IFNAME=eth0 HOROVOD_ELASTIC=1 python /examples/elastic/tensorflow2_mnist_elastic.py\r\nWed Nov  3 07:24:32 2021[1]<stderr>:+ POD_NAME=tensorflow-mnist-elastic-worker-0\r\nWed Nov  3 07:24:32 2021[1]<stderr>:+ shift\r\n"]
[49.110971, "o", "Wed Nov  3 07:24:32 2021[1]<stderr>:+ /opt/kube/kubectl exec tensorflow-mnist-elastic-worker-0 -- /bin/sh -c cd /examples > /dev/null 2>&1 ; HOROVOD_HOSTNAME=tensorflow-mnist-elastic-worker-0 HOROVOD_RANK=1 HOROVOD_SIZE=2 HOROVOD_LOCAL_RANK=0 HOROVOD_LOCAL_SIZE=1 HOROVOD_CROSS_RANK=1 HOROVOD_CROSS_SIZE=2  PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin HOSTNAME=tensorflow-mnist-elastic-launcher OMPI_MCA_plm_rsh_agent=/etc/mpi/kubexec.sh OMPI_MCA_orte_default_hostfile=/etc/mpi/hostfile NVIDIA_VISIBLE_DEVICES='' NVIDIA_DRIVER_CAPABILITIES='' KUBERNETES_SERVICE_HOST=172.16.252.1 KUBERNETES_SERVICE_PORT=443 KUBERNETES_SERVICE_PORT_HTTPS=443 KUBERNETES_PORT=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP_PROTO=tcp KUBERNETES_PORT_443_TCP_PORT=443 KUBERNETES_PORT_443_TCP_ADDR=172.16.252.1 TENSORFLOW_VERSION=2.3.0 PYTORCH_VERSION=1.6.0 TORCHVISION_VERSION=0.7.0 MXNET_VERSION=1.5.0 PYTHON_VERSION=3.7 HOME=/root LC_CTYPE=C.UTF-8 HOROVOD_STALL_CHECK_TIME_S"]
[49.111076, "o", "ECONDS=60 HOROVOD_STALL_SHUTDOWN_TIME_SECONDS=0 HOROVOD_NUM_NCCL_STREAMS=1 HOROVOD_CCL_BGT_AFFINITY=0 HOROVOD_GLOO_TIMEOUT_SECONDS=30 PYTHONUNBUFFERED=1 HOROVOD_GLOO_RENDEZVOUS_ADDR=172.16.0.170 HOROVOD_GLOO_RENDEZVOUS_PORT=21295 HOROVOD_CONTROLLER=gloo HOROVOD_CPU_OPERATIONS=gloo HOROVOD_GLOO_IFACE=eth0 NCCL_SOCKET_IFNAME=eth0 HOROVOD_ELASTIC=1 python /examples/elastic/tensorflow2_mnist_elastic.py\r\nWed Nov  3 07:24:34 2021[0]<stdout>:Downloading data from https://storage.googleapis.com/tensorflow/tf-keras-datasets/mnist.npz\r\nWed Nov  3 07:24:34 2021[1]<stdout>:Downloading data from https://storage.googleapis.com/tensorflow/tf-keras-datasets/mnist.npz\r\nWed Nov  3 07:24:34 2021[0]<stdout>:\rWed Nov  3 07:24:34 2021[1]<stdout>:\rWed Nov  3 07:24:34 2021[0]<stdout>:    8192/11490434 [..............................] - ETA: 2s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:    8192/11490434 [..............................] - ETA: 2s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b"]
[49.111097, "o", "\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>:   57344/11490434 [..............................] - ETA: 11s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:   40960/11490434 [..............................] - ETA: 15s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>:  221184/11490434 [..............................] - ETA: 5s \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:  106496/11490434 [..............................] - ETA: 11s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>:  745472/11490434 [>.............................] - ETA: 2s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:  253952/11490434 [..............................] - ETA: 7s \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>: 2539520/1149"]
[49.111152, "o", "0434 [=====>........................] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>: 8716288/11490434 [=====================>........] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>:11493376/11490434 [==============================] - 0s 0us/step\r\nWed Nov  3 07:24:34 2021[1]<stdout>:  565248/11490434 [>.............................] - ETA: 4s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:  696320/11490434 [>.............................] - ETA: 4s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:  827392/11490434 [=>............................] - ETA: 4s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>: 3981312/11490434 [=========>....................] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<s"]
[49.111268, "o", "tdout>: 5652480/11490434 [=============>................] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:11493376/11490434 [==============================] - 0s 0us/step\r\nWed Nov  3 07:24:35 2021[0]<stderr>:2021-11-03 07:24:35.162587: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN)to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA\r\nWed Nov  3 07:24:35 2021[0]<stderr>:To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\nWed Nov  3 07:24:35 2021[0]<stderr>:2021-11-03 07:24:35.166310: I tensorflow/core/platform/profile_utils/cpu_utils.cc:104] CPU Frequency: 3392020000 Hz\r\nWed Nov  3 07:24:35 2021[0]<stderr>:2021-11-03 07:24:35.166589: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x3bf2de0 initialized for platform Host (this does not guarantee that XLA will be used). Dev"]
[49.11132, "o", "ices:\r\nWed Nov  3 07:24:35 2021[0]<stderr>:2021-11-03 07:24:35.166604: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\nWed Nov  3 07:24:35 2021[1]<stderr>:2021-11-03 07:24:35.402343: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN)to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA\r\n"]
[49.143126, "o", "Wed Nov  3 07:24:35 2021[1]<stderr>:To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\nWed Nov  3 07:24:35 2021[1]<stderr>:2021-11-03 07:24:35.405847: I tensorflow/core/platform/profile_utils/cpu_utils.cc:104] CPU Frequency: 3392030000 Hz\r\nWed Nov  3 07:24:35 2021[1]<stderr>:2021-11-03 07:24:35.406107: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x4abff30 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\nWed Nov  3 07:24:35 2021[1]<stderr>:2021-11-03 07:24:35.406122: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\n"]
[50.513375, "o", "Wed Nov  3 07:24:37 2021[0]<stdout>:Step #0\tLoss: 2.137987\r\nWed Nov  3 07:24:37 2021[1]<stdout>:Step #0\tLoss: 2.137974\r\n"]
[52.615297, "o", "Wed Nov  3 07:24:39 2021[1]<stdout>:Step #10\tLoss: 0.719737\r\nWed Nov  3 07:24:39 2021[0]<stdout>:Step #10\tLoss: 0.683748\r\n"]
[53.536248, "o", "^C"]
[53.53851, "o", "\r\n"]
[53.538601, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[53.538696, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[53.543478, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[31m✘ \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[53.543582, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[54.021219, "o", "k"]
[54.169754, "o", "\bku"]
[54.249592, "o", "b"]
[54.330722, "o", "e"]
[54.540916, "o", "c"]
[54.698634, "o", "t"]
[54.802457, "o", "l"]
[54.924175, "o", " "]
[55.099342, "o", "e"]
[55.658809, "o", "\b \b"]
[56.496779, "o", "e"]
[56.821492, "o", "\b \b"]
[56.872498, "o", "g"]
[56.952308, "o", "e"]
[57.092422, "o", "t"]
[57.163575, "o", " "]
[57.332894, "o", "m"]
[57.440366, "o", "p"]
[57.536758, "o", "i"]
[57.652682, "o", "j"]
[57.769177, "o", "o"]
[57.848772, "o", "b"]
[58.06216, "o", "\u001b[?1l\u001b>"]
[58.062309, "o", "\u001b[?2004l\r\r\n"]
[58.062552, "o", "\u001b]2;kubectl get mpijob\u0007\u001b]1;kubectl\u0007"]
[58.3579, "o", "NAME                       AGE\r\ntensorflow-mnist-elastic   19s\r\n"]
[58.359341, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[58.359473, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[58.364219, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[58.364319, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[58.724368, "o", "k"]
[58.883711, "o", "\bku"]
[58.935332, "o", "b"]
[59.052719, "o", "e"]
[59.26769, "o", "c"]
[59.396333, "o", "t"]
[59.526744, "o", "l"]
[59.645074, "o", " "]
[60.194283, "o", "e"]
[60.347174, "o", "d"]
[60.449416, "o", "i"]
[60.566245, "o", "t"]
[60.631515, "o", " "]
[60.792081, "o", "m"]
[60.908052, "o", "p"]
[61.000076, "o", "i"]
[61.194327, "o", "j"]
[61.289792, "o", "o"]
[61.428728, "o", "b"]
[62.690123, "o", " "]
[63.115523, "o", "t"]
[63.250915, "o", "e"]
[63.356236, "o", "n"]
[63.440251, "o", "s"]
[63.586732, "o", "o"]
[63.669701, "o", "r"]
[63.831125, "o", "f"]
[63.94669, "o", "l"]
[64.121476, "o", "o"]
[64.233475, "o", "w"]
[64.42971, "o", "-"]
[64.718409, "o", "m"]
[64.908488, "o", "n"]
[65.055365, "o", "i"]
[65.154606, "o", "s"]
[65.310652, "o", "t"]
[65.438572, "o", "-"]
[65.577869, "o", "e"]
[65.689807, "o", "l"]
[65.789875, "o", "a"]
[65.944681, "o", "s"]
[66.08129, "o", "t"]
[66.205593, "o", "i"]
[66.299625, "o", "c"]
[66.476844, "o", "\u001b[?1l\u001b>"]
[66.477003, "o", "\u001b[?2004l\r\r\n"]
[66.477271, "o", "\u001b]2;kubectl edit mpijob tensorflow-mnist-elastic\u0007\u001b]1;kubectl\u0007"]
[66.79079, "o", "\u001b[?2004h\u001b[?1049h\u001b[22;0;0t\u001b[?1h\u001b=\u001b[?2004h"]
[66.791256, "o", "\u001b[1;35r\u001b[?12h\u001b[?12l\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[35;1H\"/tmp/kubectl-edit-3534117586.yaml\""]
[66.791343, "o", " 81L, 2338C"]
[66.791998, "o", "\u001b[1;1H# Please edit the object below. Lines beginning with a '#' will be ignored,\r\n# and an empty file will abort the edit. If an error occurs while saving this file will be\r\n# reopened with the relevant failures.\r\n#\r\napiVersion: kubeflow.org/v1\r\nkind: MPIJob\r\nmetadata:\r\n  creationTimestamp: \"2021-11-03T07:24:26Z\"\r\n  generation: 1\r\n  name: tensorflow-mnist-elastic\r\n  namespace: default\r\n  resourceVersion: \"2375939430\"\r\n  selfLink: /apis/kubeflow.org/v1/namespaces/default/mpijobs/tensorflow-mnist-elastic\r\n  uid: 9bf57408-b36f-4062-b941-a3cbc0b1a036\r\nspec:\r\n  cleanPodPolicy: Running\r\n  mpiReplicaSpecs:\r\n    Launcher:\u001b[19;7Hreplicas: 1\u001b[20;7Htemplate:\u001b[21;9Hspec:\u001b[22;11Hcontainers:\u001b[23;11H- args:\u001b[24;13H- -np\u001b[25;13H- \"2\"\u001b[26;13H- --min-np\u001b[27;13H- \"1\"\u001b[28;13H- --max-np\u001b[29;13H- \"3\"\u001b[30;13H- --host-discovery-script\u001b[31;13H- /etc/mpi/discover_hosts.sh\u001b[32;13H- python\u001b[33;13H- /examples/elastic/tensorflow2_mnist_elastic.py\u001b[34;13Hcommand:\u001b[1;1H\u001b[?25h"]
[67.736886, "o", "\u001b[?25l\u001b[35;1H\u001b[K\u001b[35;1H/\u001b[?2004h\u001b[?25h"]
[67.842102, "o", "r"]
[67.979557, "o", "e"]
[68.101863, "o", "p"]
[68.286477, "o", "l"]
[68.507119, "o", "i"]
[68.622558, "o", "c"]
[68.729859, "o", "a"]
[68.892874, "o", "s"]
[69.034138, "o", "\r"]
[69.034305, "o", "\u001b[?25l\u001b[19;7H\u001b[?25h"]
[69.323957, "o", "\u001b[?25l\u001b[35;1H"]
[69.324127, "o", "\u001b[1;34r\u001b[1;1H\u001b[18M\u001b[1;35r\u001b[17;13H- horovodrun\u001b[18;13Himage: horovod/horovod:0.20.0-tf2.3.0-torch1.6.0-mxnet1.5.0-py3.7-cpu\u001b[19;13Hname: mpi-launcher\u001b[20;13Hresources:\u001b[21;15Hlimits:\u001b[22;17Hcpu: 1\u001b[23;17Hmemory: 2Gi\u001b[24;15Hrequests:\u001b[25;17Hcpu: 1\u001b[26;17Hmemory: 2Gi\u001b[27;11HpriorityClassName: preserved-pc\r\n    Worker:\u001b[29;7Hreplicas: 2\u001b[30;7Htemplate:\u001b[31;9Hspec:\u001b[32;11Hcontainers:\u001b[33;11H- image: horovod/horovod:0.20.0-tf2.3.0-torch1.6.0-mxnet1.5.0-py3.7-cpu\u001b[34;13Hname: mpi-worker\u001b[35;1H\u001b[K\u001b[29;7H\u001b[?25h"]
[69.918504, "o", "r"]
[70.420218, "o", "e"]
[70.503454, "o", "p"]
[70.587007, "o", "l"]
[70.670871, "o", "i"]
[70.754721, "o", "c"]
[70.838048, "o", "a"]
[70.921969, "o", "s"]
[71.005061, "o", ":"]
[71.089166, "o", " "]
[71.173306, "o", "\u0007"]
[71.422287, "o", "\u001b[?25l\u001b[35;1H\u001b[1m-- INSERT --\u001b[29;17H\u001b[?25h"]
[71.674123, "o", "\u001b[m2"]
[71.94614, "o", "\u001b[?25l\u001b[29;17H\u001b[K\u001b[29;17H\u001b[?25h"]
[72.169103, "o", "\u001b[?25l3\u001b[?25h"]
[72.443868, "o", "\u001b[35;1H\u001b[K\u001b[29;17H"]
[72.544052, "o", "\u001b[?25l\u001b[?25h"]
[72.938023, "o", "\u001b[?25l\u001b[35;1H:\u001b[?2004h\u001b[?25h"]
[73.058955, "o", "x"]
[73.186649, "o", "\r"]
[73.186853, "o", "\u001b[?25l\u001b[?2004l\"/tmp/kubectl-edit-3534117586.yaml\""]
[73.192068, "o", " 81L, 2338C written\r\r\r\n\u001b[?2004l\u001b[?1l\u001b>\u001b[?25h\u001b[?1049l\u001b[23;0;0t"]
[73.447092, "o", "mpijob.kubeflow.org/tensorflow-mnist-elastic edited\r\n"]
[73.450561, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[73.450694, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[73.455524, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[73.455617, "o", "\u001b[?1h\u001b="]
[73.455683, "o", "\u001b[?2004h"]
[73.97235, "o", "k"]
[74.118955, "o", "\bku"]
[74.174297, "o", "b"]
[74.282018, "o", "e"]
[74.476108, "o", "c"]
[74.633997, "o", "t"]
[74.723464, "o", "l"]
[74.836152, "o", " "]
[74.905379, "o", "g"]
[74.97527, "o", "e"]
[75.110043, "o", "t"]
[75.172369, "o", " "]
[75.317266, "o", "p"]
[75.475591, "o", "o"]
[75.671725, "o", "\u001b[?1l\u001b>"]
[75.67189, "o", "\u001b[?2004l\r\r\n"]
[75.67272, "o", "\u001b]2;kubectl get po\u0007\u001b]1;kubectl\u0007"]
[76.014722, "o", "NAME                                READY   STATUS    RESTARTS   AGE\r\ntensorflow-mnist-elastic-launcher   1/1     Running   0          36s\r\ntensorflow-mnist-elastic-worker-0   1/1     Running   0          36s\r\n"]
[76.014884, "o", "tensorflow-mnist-elastic-worker-1   1/1     Running   0          36s\r\ntensorflow-mnist-elastic-worker-2   1/1     Running   0          2s\r\n"]
[76.016288, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[76.0164, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[76.0211, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[76.021195, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[76.539312, "o", "k"]
[76.685573, "o", "\bku"]
[76.760934, "o", "b"]
[76.872303, "o", "e"]
[77.882473, "o", "\b \b"]
[78.383936, "o", "\b \b"]
[78.467491, "o", "\b\bk \b"]
[78.551484, "o", "\b \b"]
[79.142489, "o", "kubectl get po"]
[79.342672, "o", "\b\b\b\b\b\bedit mpijob tensorflow-mnist-elastic"]
[79.542071, "o", "\u001b[36Dge\u001b[P\u001b[9C                         \u001b[26D"]
[80.066023, "o", "\u001b[10Dlogs -f tensorflow-mnist-elastic-launcher"]
[80.695065, "o", "\u001b[?1l\u001b>"]
[80.695211, "o", "\u001b[?2004l\r\r\n"]
[80.695875, "o", "\u001b]2;kubectl logs -f tensorflow-mnist-elastic-launcher\u0007\u001b]1;kubectl\u0007"]
[81.081564, "o", "Wed Nov  3 07:24:32 2021[0]<stderr>:+ POD_NAME=tensorflow-mnist-elastic-worker-1\r\n"]
[81.08173, "o", "Wed Nov  3 07:24:32 2021[0]<stderr>:+ shift\r\nWed Nov  3 07:24:32 2021[0]<stderr>:+ /opt/kube/kubectl exec tensorflow-mnist-elastic-worker-1 -- /bin/sh -c cd /examples > /dev/null 2>&1 ; HOROVOD_HOSTNAME=tensorflow-mnist-elastic-worker-1 HOROVOD_RANK=0 HOROVOD_SIZE=2 HOROVOD_LOCAL_RANK=0 HOROVOD_LOCAL_SIZE=1 HOROVOD_CROSS_RANK=0 HOROVOD_CROSS_SIZE=2  PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin HOSTNAME=tensorflow-mnist-elastic-launcher OMPI_MCA_plm_rsh_agent=/etc/mpi/kubexec.sh OMPI_MCA_orte_default_hostfile=/etc/mpi/hostfile NVIDIA_VISIBLE_DEVICES='' NVIDIA_DRIVER_CAPABILITIES='' KUBERNETES_SERVICE_HOST=172.16.252.1 KUBERNETES_SERVICE_PORT=443 KUBERNETES_SERVICE_PORT_HTTPS=443 KUBERNETES_PORT=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP_PROTO=tcp KUBERNETES_PORT_443_TCP_PORT=443 KUBERNETES_PORT_443_TCP_ADDR=172.16.252.1 TENSORFLOW_VERSION=2.3.0 PYTORCH_VERSION=1.6.0 TORCHVISION_VERSION=0.7.0 MXNET_VERSION=1.5.0 PYTHON_VERSION=3.7 HOME=/roo"]
[81.081795, "o", "t LC_CTYPE=C.UTF-8 HOROVOD_STALL_CHECK_TIME_SECONDS=60 HOROVOD_STALL_SHUTDOWN_TIME_SECONDS=0 HOROVOD_NUM_NCCL_STREAMS=1 HOROVOD_CCL_BGT_AFFINITY=0 HOROVOD_GLOO_TIMEOUT_SECONDS=30 PYTHONUNBUFFERED=1 HOROVOD_GLOO_RENDEZVOUS_ADDR=172.16.0.170 HOROVOD_GLOO_RENDEZVOUS_PORT=21295 HOROVOD_CONTROLLER=gloo HOROVOD_CPU_OPERATIONS=gloo HOROVOD_GLOO_IFACE=eth0 NCCL_SOCKET_IFNAME=eth0 HOROVOD_ELASTIC=1 python /examples/elastic/tensorflow2_mnist_elastic.py\r\nWed Nov  3 07:24:32 2021[1]<stderr>:+ POD_NAME=tensorflow-mnist-elastic-worker-0\r\nWed Nov  3 07:24:32 2021[1]<stderr>:+ shift\r\n"]
[81.081818, "o", "Wed Nov  3 07:24:32 2021[1]<stderr>:+ /opt/kube/kubectl exec tensorflow-mnist-elastic-worker-0 -- /bin/sh -c cd /examples > /dev/null 2>&1 ; HOROVOD_HOSTNAME=tensorflow-mnist-elastic-worker-0 HOROVOD_RANK=1 HOROVOD_SIZE=2 HOROVOD_LOCAL_RANK=0 HOROVOD_LOCAL_SIZE=1 HOROVOD_CROSS_RANK=1 HOROVOD_CROSS_SIZE=2  PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin HOSTNAME=tensorflow-mnist-elastic-launcher OMPI_MCA_plm_rsh_agent=/etc/mpi/kubexec.sh OMPI_MCA_orte_default_hostfile=/etc/mpi/hostfile NVIDIA_VISIBLE_DEVICES='' NVIDIA_DRIVER_CAPABILITIES='' KUBERNETES_SERVICE_HOST=172.16.252.1 KUBERNETES_SERVICE_PORT=443 KUBERNETES_SERVICE_PORT_HTTPS=443 KUBERNETES_PORT=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP_PROTO=tcp KUBERNETES_PORT_443_TCP_PORT=443 KUBERNETES_PORT_443_TCP_ADDR=172.16.252.1 TENSORFLOW_VERSION=2.3.0 PYTORCH_VERSION=1.6.0 TORCHVISION_VERSION=0.7.0 MXNET_VERSION=1.5.0 PYTHON_VERSION=3.7 HOME=/root LC_CTYPE=C.UTF-8 HOROVOD_STALL_CHECK_TIME_S"]
[81.081842, "o", "ECONDS=60 HOROVOD_STALL_SHUTDOWN_TIME_SECONDS=0 HOROVOD_NUM_NCCL_STREAMS=1 HOROVOD_CCL_BGT_AFFINITY=0 HOROVOD_GLOO_TIMEOUT_SECONDS=30 PYTHONUNBUFFERED=1 HOROVOD_GLOO_RENDEZVOUS_ADDR=172.16.0.170 HOROVOD_GLOO_RENDEZVOUS_PORT=21295 HOROVOD_CONTROLLER=gloo HOROVOD_CPU_OPERATIONS=gloo HOROVOD_GLOO_IFACE=eth0 NCCL_SOCKET_IFNAME=eth0 HOROVOD_ELASTIC=1 python /examples/elastic/tensorflow2_mnist_elastic.py\r\nWed Nov  3 07:24:34 2021[0]<stdout>:Downloading data from https://storage.googleapis.com/tensorflow/tf-keras-datasets/mnist.npz\r\n"]
[81.082336, "o", "Wed Nov  3 07:24:34 2021[1]<stdout>:Downloading data from https://storage.googleapis.com/tensorflow/tf-keras-datasets/mnist.npz\r\n"]
[81.08397, "o", "Wed Nov  3 07:24:34 2021[0]<stdout>:\rWed Nov  3 07:24:34 2021[1]<stdout>:\rWed Nov  3 07:24:34 2021[0]<stdout>:    8192/11490434 [..............................] - ETA: 2s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:    8192/11490434 [..............................] - ETA: 2s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>:   57344/11490434 [..............................] - ETA: 11s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:   40960/11490434 [..............................] - ETA: 15s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>:  221184/11490434 [..............................] - ETA: 5s \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:  106496/11490434 [..............................] - ETA: 11s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rW"]
[81.084095, "o", "ed Nov  3 07:24:34 2021[0]<stdout>:  745472/11490434 [>.............................] - ETA: 2s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:  253952/11490434 [..............................] - ETA: 7s \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>: 2539520/11490434 [=====>........................] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>: 8716288/11490434 [=====================>........] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>:11493376/11490434 [==============================] - 0s 0us/step\r\nWed Nov  3 07:24:34 2021[1]<stdout>:  565248/11490434 [>.............................] - ETA: 4s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:  696320/11490434 [>.............................] - ETA: 4s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b"]
[81.084156, "o", "\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:  827392/11490434 [=>............................] - ETA: 4s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>: 3981312/11490434 [=========>....................] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>: 5652480/11490434 [=============>................] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:11493376/11490434 [==============================] - 0s 0us/step\r\nWed Nov  3 07:24:35 2021[0]<stderr>:2021-11-03 07:24:35.162587: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN)to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA\r\nWed Nov  3 07:24:35 2021[0]<stderr>:To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\nWed Nov "]
[81.084245, "o", " 3 07:24:35 2021[0]<stderr>:2021-11-03 07:24:35.166310: I tensorflow/core/platform/profile_utils/cpu_utils.cc:104] CPU Frequency: 3392020000 Hz\r\nWed Nov  3 07:24:35 2021[0]<stderr>:2021-11-03 07:24:35.166589: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x3bf2de0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\nWed Nov  3 07:24:35 2021[0]<stderr>:2021-11-03 07:24:35.166604: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\nWed Nov  3 07:24:35 2021[1]<stderr>:2021-11-03 07:24:35.402343: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN)to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA\r\n"]
[81.111697, "o", "Wed Nov  3 07:24:35 2021[1]<stderr>:To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\nWed Nov  3 07:24:35 2021[1]<stderr>:2021-11-03 07:24:35.405847: I tensorflow/core/platform/profile_utils/cpu_utils.cc:104] CPU Frequency: 3392030000 Hz\r\nWed Nov  3 07:24:35 2021[1]<stderr>:2021-11-03 07:24:35.406107: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x4abff30 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\nWed Nov  3 07:24:35 2021[1]<stderr>:2021-11-03 07:24:35.406122: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\n"]
[81.111782, "o", "Wed Nov  3 07:24:37 2021[0]<stdout>:Step #0\tLoss: 2.137987\r\nWed Nov  3 07:24:37 2021[1]<stdout>:Step #0\tLoss: 2.137974\r\nWed Nov  3 07:24:39 2021[1]<stdout>:Step #10\tLoss: 0.719737\r\nWed Nov  3 07:24:39 2021[0]<stdout>:Step #10\tLoss: 0.683748\r\nWed Nov  3 07:24:42 2021[1]<stdout>:Step #20\tLoss: 0.460311\r\nWed Nov  3 07:24:42 2021[0]<stdout>:Step #20\tLoss: 0.501839\r\nWed Nov  3 07:24:44 2021[1]<stdout>:Step #30\tLoss: 0.300607\r\nWed Nov  3 07:24:44 2021[0]<stdout>:Step #30\tLoss: 0.305247\r\nWed Nov  3 07:24:46 2021[1]<stdout>:Step #40\tLoss: 0.357977\r\nWed Nov  3 07:24:46 2021[0]<stdout>:Step #40\tLoss: 0.303216\r\nWed Nov  3 07:24:48 2021[0]<stdout>:Step #50\tLoss: 0.232337\r\nWed Nov  3 07:24:48 2021[1]<stdout>:Step #50\tLoss: 0.289517\r\nWed Nov  3 07:24:50 2021[1]<stdout>:Step #60\tLoss: 0.172167\r\nWed Nov  3 07:24:50 2021[0]<stdout>:Step #60\tLoss: 0.169299\r\nWed Nov  3 07:24:52 2021[0]<stdout>:Step #70\tLoss: 0.206800\r\nWed Nov  3 07:24:52 2021[1]<stdout>:Step #70\tLoss: 0.151704"]
[81.11181, "o", "\r\nWed Nov  3 07:24:54 2021[0]<stdout>:Step #80\tLoss: 0.199875\r\nWed Nov  3 07:24:54 2021[1]<stdout>:Step #80\tLoss: 0.141387\r\nWed Nov  3 07:24:56 2021[1]<stdout>:Step #90\tLoss: 0.184644\r\nWed Nov  3 07:24:56 2021[0]<stdout>:Step #90\tLoss: 0.154726\r\nWed Nov  3 07:24:58 2021[0]<stdout>:Step #100\tLoss: 0.142690\r\nWed Nov  3 07:24:58 2021[1]<stdout>:Step #100\tLoss: 0.103419\r\nWed Nov  3 07:25:00 2021[0]<stdout>:Step #110"]
[81.111865, "o", "\tLoss: 0.180092\r\nWed Nov  3 07:25:00 2021[1]<stdout>:Step #110\tLoss: 0.141056\r\nWed Nov  3 07:25:02 2021[0]<stdout>:Step #120\tLoss: 0.059750\r\nWed Nov  3 07:25:02 2021[1]<stdout>:Step #120\tLoss: 0.192430\r\nWed Nov  3 07:25:04 2021[0]<stdout>:Step #130\tLoss: 0.144789\r\nWed Nov  3 07:25:04 2021[1]<stdout>:Step #130\tLoss: 0.079801\r\nWed Nov  3 07:25:06 2021[0]<stdout>:Step #140\tLoss: 0.095121\r\nWed Nov  3 07:25:06 2021[1]<stdout>:Step #140\tLoss: 0.112793\r\n"]
[81.305318, "o", "Wed Nov  3 07:25:08 2021[1]<stdout>:Step #150\tLoss: 0.097118\r\n"]
[81.306185, "o", "Wed Nov  3 07:25:08 2021[0]<stdout>:Step #150\tLoss: 0.089892\r\n"]
[83.319597, "o", "Wed Nov  3 07:25:10 2021[0]<stdout>:Step #160\tLoss: 0.147105\r\n"]
[83.321055, "o", "Wed Nov  3 07:25:10 2021[1]<stdout>:Step #160\tLoss: 0.120131\r\n"]
[85.402755, "o", "Wed Nov  3 07:25:12 2021[0]<stdout>:Step #170\tLoss: 0.082995\r\nWed Nov  3 07:25:12 2021[1]<stdout>:Step #170\tLoss: 0.094643\r\n"]
[87.408187, "o", "Wed Nov  3 07:25:14 2021[0]<stdout>:Step #180\tLoss: 0.158584\r\nWed Nov  3 07:25:14 2021[1]<stdout>:Step #180\tLoss: 0.041079\r\n"]
[89.493037, "o", "Wed Nov  3 07:25:16 2021[1]<stdout>:Step #190\tLoss: 0.105988\r\nWed Nov  3 07:25:16 2021[0]<stdout>:Step #190\tLoss: 0.149507\r\n"]
[91.50835, "o", "Wed Nov  3 07:25:18 2021[1]<stdout>:Step #200\tLoss: 0.082872\r\nWed Nov  3 07:25:18 2021[0]<stdout>:Step #200\tLoss: 0.092123\r\n"]
[93.513021, "o", "Wed Nov  3 07:25:20 2021[0]<stdout>:Step #210\tLoss: 0.050733\r\nWed Nov  3 07:25:20 2021[1]<stdout>:Step #210\tLoss: 0.057802\r\n"]
[95.600223, "o", "Wed Nov  3 07:25:22 2021[1]<stdout>:Step #220\tLoss: 0.069701\r\nWed Nov  3 07:25:22 2021[0]<stdout>:Step #220\tLoss: 0.109347\r\n"]
[97.614001, "o", "Wed Nov  3 07:25:24 2021[0]<stdout>:Step #230\tLoss: 0.080634\r\n"]
[97.614062, "o", "Wed Nov  3 07:25:24 2021[1]<stdout>:Step #230\tLoss: 0.192162\r\n"]
[99.703349, "o", "Wed Nov  3 07:25:27 2021[0]<stdout>:Step #240\tLoss: 0.107724\r\nWed Nov  3 07:25:27 2021[1]<stdout>:Step #240\tLoss: 0.061392\r\n"]
[101.714172, "o", "Wed Nov  3 07:25:29 2021[0]<stdout>:Step #250\tLoss: 0.115875\r\nWed Nov  3 07:25:29 2021[1]<stdout>:Step #250\tLoss: 0.036687\r\n"]
[103.802041, "o", "Wed Nov  3 07:25:31 2021[1]<stdout>:Step #260\tLoss: 0.087842\r\n"]
[103.8036, "o", "Wed Nov  3 07:25:31 2021[0]<stdout>:Step #260\tLoss: 0.061072\r\n"]
[105.814211, "o", "Wed Nov  3 07:25:33 2021[0]<stdout>:Step #270\tLoss: 0.098948\r\nWed Nov  3 07:25:33 2021[1]<stdout>:Step #270\tLoss: 0.151105\r\n"]
[107.807914, "o", "Wed Nov  3 07:25:35 2021[0]<stdout>:Step #280\tLoss: 0.132341\r\nWed Nov  3 07:25:35 2021[1]<stdout>:Step #280\tLoss: 0.118096\r\n"]
[109.892594, "o", "Wed Nov  3 07:25:37 2021[0]<stdout>:Step #290\tLoss: 0.099226\r\n"]
[109.892745, "o", "Wed Nov  3 07:25:37 2021[1]<stdout>:Step #290\tLoss: 0.144145\r\n"]
[111.920742, "o", "Wed Nov  3 07:25:39 2021[1]<stdout>:Step #300\tLoss: 0.125562\r\nWed Nov  3 07:25:39 2021[0]<stdout>:Step #300\tLoss: 0.068911\r\n"]
[114.003851, "o", "Wed Nov  3 07:25:41 2021[0]<stdout>:Step #310\tLoss: 0.070813\r\nWed Nov  3 07:25:41 2021[1]<stdout>:Step #310\tLoss: 0.057307\r\n"]
[116.102301, "o", "Wed Nov  3 07:25:43 2021[1]<stdout>:Step #320\tLoss: 0.040097\r\nWed Nov  3 07:25:43 2021[0]<stdout>:Step #320\tLoss: 0.090056\r\n"]
[118.114331, "o", "Wed Nov  3 07:25:45 2021[1]<stdout>:Step #330\tLoss: 0.056088\r\n"]
[118.115777, "o", "Wed Nov  3 07:25:45 2021[0]<stdout>:Step #330\tLoss: 0.176431\r\n"]
[120.114557, "o", "Wed Nov  3 07:25:47 2021[0]<stdout>:Step #340\tLoss: 0.034975\r\nWed Nov  3 07:25:47 2021[1]<stdout>:Step #340\tLoss: 0.062929\r\n"]
[120.543268, "o", "Wed Nov  3 07:25:47 2021[2]<stderr>:+ POD_NAME=tensorflow-mnist-elastic-worker-2\r\nWed Nov  3 07:25:47 2021[2]<stderr>:+ shift\r\n"]
[120.543434, "o", "Wed Nov  3 07:25:47 2021[2]<stderr>:+ /opt/kube/kubectl exec tensorflow-mnist-elastic-worker-2 -- /bin/sh -c cd /examples > /dev/null 2>&1 ; HOROVOD_HOSTNAME=tensorflow-mnist-elastic-worker-2 HOROVOD_RANK=2 HOROVOD_SIZE=3 HOROVOD_LOCAL_RANK=0 HOROVOD_LOCAL_SIZE=1 HOROVOD_CROSS_RANK=2 HOROVOD_CROSS_SIZE=3  PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin HOSTNAME=tensorflow-mnist-elastic-launcher OMPI_MCA_plm_rsh_agent=/etc/mpi/kubexec.sh OMPI_MCA_orte_default_hostfile=/etc/mpi/hostfile NVIDIA_VISIBLE_DEVICES='' NVIDIA_DRIVER_CAPABILITIES='' KUBERNETES_SERVICE_HOST=172.16.252.1 KUBERNETES_SERVICE_PORT=443 KUBERNETES_SERVICE_PORT_HTTPS=443 KUBERNETES_PORT=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP_PROTO=tcp KUBERNETES_PORT_443_TCP_PORT=443 KUBERNETES_PORT_443_TCP_ADDR=172.16.252.1 TENSORFLOW_VERSION=2.3.0 PYTORCH_VERSION=1.6.0 TORCHVISION_VERSION=0.7.0 MXNET_VERSION=1.5.0 PYTHON_VERSION=3.7 HOME=/root LC_CTYPE=C.UTF-8 HOROVOD_STALL_CHECK_TIME_S"]
[120.543532, "o", "ECONDS=60 HOROVOD_STALL_SHUTDOWN_TIME_SECONDS=0 HOROVOD_NUM_NCCL_STREAMS=1 HOROVOD_CCL_BGT_AFFINITY=0 HOROVOD_GLOO_TIMEOUT_SECONDS=30 PYTHONUNBUFFERED=1 HOROVOD_GLOO_RENDEZVOUS_ADDR=172.16.0.170 HOROVOD_GLOO_RENDEZVOUS_PORT=21295 HOROVOD_CONTROLLER=gloo HOROVOD_CPU_OPERATIONS=gloo HOROVOD_GLOO_IFACE=eth0 NCCL_SOCKET_IFNAME=eth0 HOROVOD_ELASTIC=1 python /examples/elastic/tensorflow2_mnist_elastic.py\r\n"]
[121.827309, "o", "Wed Nov  3 07:25:49 2021[2]<stdout>:Downloading data from https://storage.googleapis.com/tensorflow/tf-keras-datasets/mnist.npz\r\n"]
[122.579794, "o", "Wed Nov  3 07:25:49 2021[2]<stdout>:\rWed Nov  3 07:25:49 2021[2]<stdout>:    8192/11490434 [..............................] - ETA: 4s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>:   40960/11490434 [..............................] - ETA: 15s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>:  114688/11490434 [..............................] - ETA: 10s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>:  286720/11490434 [..............................] - ETA: 6s \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>:  540672/11490434 [>.............................] - ETA: 4s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>: 1163264/11490434 [==>...........................] - ETA: 2s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>: 306"]
[122.57994, "o", "3808/11490434 [======>.......................] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>: 6397952/11490434 [===============>..............] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>:11493376/11490434 [==============================] - 0s 0us/step\r\n"]
[122.985793, "o", "Wed Nov  3 07:25:50 2021[2]<stderr>:2021-11-03 07:25:50.337697: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN)to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA\r\nWed Nov  3 07:25:50 2021[2]<stderr>:To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\n"]
[122.98847, "o", "Wed Nov  3 07:25:50 2021[2]<stderr>:2021-11-03 07:25:50.341210: I tensorflow/core/platform/profile_utils/cpu_utils.cc:104] CPU Frequency: 3392030000 Hz\r\n"]
[122.990194, "o", "Wed Nov  3 07:25:50 2021[2]<stderr>:2021-11-03 07:25:50.341463: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x3a020d0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\nWed Nov  3 07:25:50 2021[2]<stderr>:2021-11-03 07:25:50.341478: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\n"]
[127.498186, "o", "Wed Nov  3 07:25:54 2021[1]<stdout>:Step #350\tLoss: 0.066030\r\nWed Nov  3 07:25:54 2021[0]<stdout>:Step #350\tLoss: 0.082708\r\nWed Nov  3 07:25:54 2021[2]<stdout>:Step #350\tLoss: 0.237902\r\n"]
[129.517716, "o", "Wed Nov  3 07:25:56 2021[0]<stdout>:Step #360\tLoss: 0.039469\r\nWed Nov  3 07:25:56 2021[1]<stdout>:Step #360\tLoss: 0.062769\r\nWed Nov  3 07:25:56 2021[2]<stdout>:Step #360\tLoss: 0.062292\r\n"]
[131.60931, "o", "Wed Nov  3 07:25:58 2021[1]<stdout>:Step #370\tLoss: 0.140238\r\nWed Nov  3 07:25:58 2021[0]<stdout>:Step #370\tLoss: 0.072329\r\n"]
[131.610502, "o", "Wed Nov  3 07:25:58 2021[2]<stdout>:Step #370\tLoss: 0.104218\r\n"]
[133.701721, "o", "Wed Nov  3 07:26:01 2021[1]<stdout>:Step #380\tLoss: 0.129325\r\nWed Nov  3 07:26:01 2021[0]<stdout>:Step #380\tLoss: 0.071511\r\nWed Nov  3 07:26:01 2021[2]<stdout>:Step #380\tLoss: 0.078255\r\n"]
[134.607945, "o", "^C"]
[134.609548, "o", "\r\n"]
[134.609634, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[134.609726, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[134.614544, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[31m✘ \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[134.61464, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[136.541857, "o", "m"]
[136.678953, "o", "\bmo"]
[136.775987, "o", "r"]
[136.915471, "o", "e"]
[137.056365, "o", " "]
[137.742672, "o", "i"]
[137.862506, "o", "n"]
[138.1747, "o", "ference-mocked.yaml\u001b[1m \u001b[0m"]
[138.715299, "o", "\b\u001b[0m \b"]
[138.71536, "o", "\u001b[?1l\u001b>"]
[138.715501, "o", "\u001b[?2004l\r\r\n"]
[138.715744, "o", "\u001b]2;more inference-mocked.yaml\u0007\u001b]1;more\u0007"]
[138.717041, "o", "apiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: inference-mocked\r\n  labels:\r\n    app: inference\r\nspec:\r\n"]
[138.717132, "o", "  replicas: 3\r\n  selector:\r\n    matchLabels:\r\n      app: inference\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: inference\r\n    spec:\r\n      priorityClassName: inference-pc\r\n      containers:\r\n      - name: inference\r\n        image: ccr.ccs.tencentyun.com/willzgli/nginx:1.17.8\r\n        ports:\r\n        - containerPort: 80\r\n        resources:\r\n          requests:\r\n"]
[138.717154, "o", "            cpu: 2\r\n            memory: 4Gi\r\n          limits:\r\n            cpu: 2\r\n            memory: 4Gi\r\n"]
[138.717307, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[138.717384, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[138.721904, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[138.722003, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[141.545047, "o", "k"]
[141.693128, "o", "\bku"]
[141.777034, "o", "b"]
[141.888117, "o", "e"]
[142.165662, "o", "c"]
[142.34768, "o", "t"]
[142.466302, "o", "l"]
[142.588609, "o", " "]
[142.774771, "o", "c"]
[142.908764, "o", "r"]
[143.058052, "o", "e"]
[143.102738, "o", "a"]
[143.250711, "o", "t"]
[143.407629, "o", "e"]
[143.56118, "o", " "]
[143.674305, "o", "-"]
[143.806552, "o", "f"]
[143.889432, "o", " "]
[144.131315, "o", "."]
[144.271459, "o", "/"]
[145.710403, "o", "i"]
[145.828493, "o", "n"]
[145.921657, "o", "ference-mocked.yaml\u001b[1m \u001b[0m"]
[146.381449, "o", "\b\u001b[0m \b"]
[146.381596, "o", "\u001b[?1l\u001b>\u001b[?2004l\r\r\n"]
[146.381913, "o", "\u001b]2;kubectl create -f ./inference-mocked.yaml\u0007\u001b]1;kubectl\u0007"]
[146.83558, "o", "deployment.apps/inference-mocked created\r\n"]
[146.839065, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[146.839214, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[146.843969, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[146.84408, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[147.42341, "o", "k"]
[147.578145, "o", "\bku"]
[147.633301, "o", "b"]
[147.740237, "o", "e"]
[147.943589, "o", "c"]
[148.10135, "o", "t"]
[148.2105, "o", "l"]
[148.320303, "o", " "]
[148.401778, "o", "g"]
[148.473169, "o", "e"]
[148.611056, "o", "t"]
[148.674384, "o", " "]
[148.810763, "o", "p"]
[148.982241, "o", "o"]
[149.192651, "o", "\u001b[?1l\u001b>"]
[149.192792, "o", "\u001b[?2004l\r\r\n"]
[149.192995, "o", "\u001b]2;kubectl get po\u0007\u001b]1;kubectl\u0007"]
[149.525351, "o", "NAME                                READY   STATUS        RESTARTS   AGE\r\ninference-mocked-66788c5d56-8pww5   0/1     Pending       0          2s\r\ninference-mocked-66788c5d56-lx4sd   1/1     Running       0          2s\r\ninference-mocked-66788c5d56-nskdq   1/1     Running       0          2s\r\ntensorflow-mnist-elastic-launcher   1/1     Running       0          109s\r\ntensorflow-mnist-elastic-worker-0   1/1     Running       0          109s\r\ntensorflow-mnist-elastic-worker-1   1/1     Running       0          109s"]
[149.525422, "o", "\r\ntensorflow-mnist-elastic-worker-2   1/1     Terminating   0          75s\r\n"]
[149.526789, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[149.52691, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[149.531623, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[149.531723, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[154.269517, "o", "kubectl get po"]
[156.419267, "o", "\u001b[?1l\u001b>"]
[156.419433, "o", "\u001b[?2004l\r\r\n"]
[156.419647, "o", "\u001b]2;kubectl get po\u0007\u001b]1;kubectl\u0007"]
[156.732008, "o", "NAME                                READY   STATUS        RESTARTS   AGE\r\ninference-mocked-66788c5d56-8pww5   0/1     Pending       0          10s\r\ninference-mocked-66788c5d56-lx4sd   1/1     Running       0          10s\r\ninference-mocked-66788c5d56-nskdq   1/1     Running       0          10s\r\ntensorflow-mnist-elastic-launcher   1/1     Running       0          117s\r\ntensorflow-mnist-elastic-worker-0   "]
[156.732073, "o", "1/1     Running       0          117s\r\ntensorflow-mnist-elastic-worker-1   1/1     Running       0          117s\r\ntensorflow-mnist-elastic-worker-2   1/1     Terminating   0          83s\r\n"]
[156.733512, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[156.733654, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[156.738446, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[156.738577, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[163.34561, "o", "kubectl get po"]
[163.730109, "o", "\u001b[?1l\u001b>"]
[163.730266, "o", "\u001b[?2004l\r\r\n"]
[163.730483, "o", "\u001b]2;kubectl get po\u0007\u001b]1;kubectl\u0007"]
[164.084971, "o", "NAME                                READY   STATUS        RESTARTS   AGE\r\ninference-mocked-66788c5d56-8pww5   0/1     Pending       0          17s\r\ninference-mocked-66788c5d56-lx4sd   1/1     Running       0          17s\r\ninference-mocked-66788c5d56-nskdq   1/1"]
[164.085049, "o", "     Running       0          17s\r\ntensorflow-mnist-elastic-launcher   1/1     Running       0          2m4s\r\ntensorflow-mnist-elastic-worker-0   1/1     Running       0          2m4s\r\ntensorflow-mnist-elastic-worker-1   1/1     Running       "]
[164.085069, "o", "0          2m4s\r\ntensorflow-mnist-elastic-worker-2   1/1     Terminating   "]
[164.085086, "o", "0          90s\r\n"]
[164.086862, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[164.086969, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[164.091637, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[164.091723, "o", "\u001b[?1h\u001b="]
[164.091798, "o", "\u001b[?2004h"]
[164.847746, "o", "kubectl get po"]
[165.115294, "o", "\u001b[?1l\u001b>"]
[165.115438, "o", "\u001b[?2004l\r\r\n"]
[165.115745, "o", "\u001b]2;kubectl get po\u0007\u001b]1;kubectl\u0007"]
[165.441751, "o", "NAME                                READY   STATUS        RESTARTS   AGE\r\ninference-mocked-66788c5d56-8pww5   0/1     Pending       0          18s\r\ninference-mocked-66788c5d56-lx4sd   1/1     Running       0          18s\r\ninference-mocked-66788c5d56-nskdq   "]
[165.441821, "o", "1/1     Running       0          18s\r\ntensorflow-mnist-elastic-launcher   1/1     Running       0          2m5s\r\ntensorflow-mnist-elastic-worker-0   1/1     Running       0          2m5s\r\ntensorflow-mnist-elastic-worker-1   1/1     Running       0          2m5s\r\ntensorflow-mnist-elastic-worker-2   1/1     Terminating   0          91s\r\n"]
[165.443292, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[165.443385, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007"]
[165.443412, "o", "\u001b]1;~/workload\u0007"]
[165.448259, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[165.448347, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[168.431814, "o", "kubectl get po"]
[169.012279, "o", "\u001b[?1l\u001b>"]
[169.012416, "o", "\u001b[?2004l\r\r\n"]
[169.012746, "o", "\u001b]2;kubectl get po\u0007\u001b]1;kubectl\u0007"]
[169.359912, "o", "NAME                                READY   STATUS        RESTARTS   AGE\r\ninference-mocked-66788c5d56-8pww5   0/1     Pending       0          22s\r\ninference-mocked-66788c5d56-lx4sd   1/1     Running       0          22s\r\ninference-mocked-66788c5d56-nskdq   1/1     Running"]
[169.359994, "o", "       0          22s\r\ntensorflow-mnist-elastic-launcher   1/1     Running       0          2m9s\r\ntensorflow-mnist-elastic-worker-0   1/1     Running       0          2m9s\r\ntensorflow-mnist-elastic-worker-1   1/1     Running       0          2m9s\r\ntensorflow-mnist-elastic-worker-2   1/1     Terminating   0          95s\r\n"]
[169.361459, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[169.361563, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[169.366263, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[169.366349, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[171.942767, "o", "kubectl get po"]
[172.107562, "o", "\b\b\b\b\b\bcreate -f ./inference-mocked.yaml"]
[172.544756, "o", "\u001b[41Dmore \u001b[15P\u001b[21C               \u001b[15D"]
[173.261448, "o", "\u001b[26Dkubectl logs -f tensorflow-mnist-elastic-launcher"]
[174.092403, "o", "\u001b[?1l\u001b>"]
[174.092581, "o", "\u001b[?2004l\r\r\n"]
[174.092726, "o", "\u001b]2;kubectl logs -f tensorflow-mnist-elastic-launcher\u0007"]
[174.09282, "o", "\u001b]1;kubectl\u0007"]
[174.496819, "o", "Wed Nov  3 07:24:32 2021[0]<stderr>:+ POD_NAME=tensorflow-mnist-elastic-worker-1\r\n"]
[174.497014, "o", "Wed Nov  3 07:24:32 2021[0]<stderr>:+ shift\r\nWed Nov  3 07:24:32 2021[0]<stderr>:+ /opt/kube/kubectl exec tensorflow-mnist-elastic-worker-1 -- /bin/sh -c cd /examples > /dev/null 2>&1 ; HOROVOD_HOSTNAME=tensorflow-mnist-elastic-worker-1 HOROVOD_RANK=0 HOROVOD_SIZE=2 HOROVOD_LOCAL_RANK=0 HOROVOD_LOCAL_SIZE=1 HOROVOD_CROSS_RANK=0 HOROVOD_CROSS_SIZE=2  PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin HOSTNAME=tensorflow-mnist-elastic-launcher OMPI_MCA_plm_rsh_agent=/etc/mpi/kubexec.sh OMPI_MCA_orte_default_hostfile=/etc/mpi/hostfile NVIDIA_VISIBLE_DEVICES='' NVIDIA_DRIVER_CAPABILITIES='' KUBERNETES_SERVICE_HOST=172.16.252.1 KUBERNETES_SERVICE_PORT=443 KUBERNETES_SERVICE_PORT_HTTPS=443 KUBERNETES_PORT=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP_PROTO=tcp KUBERNETES_PORT_443_TCP_PORT=443 KUBERNETES_PORT_443_TCP_ADDR=172.16.252.1 TENSORFLOW_VERSION=2.3.0 PYTORCH_VERSION=1.6.0 TORCHVISION_VERSION=0.7.0 MXNET_VERSION=1.5.0 PYTHON_VERSION=3.7 HOME=/roo"]
[174.497104, "o", "t LC_CTYPE=C.UTF-8 HOROVOD_STALL_CHECK_TIME_SECONDS=60 HOROVOD_STALL_SHUTDOWN_TIME_SECONDS=0 HOROVOD_NUM_NCCL_STREAMS=1 HOROVOD_CCL_BGT_AFFINITY=0 HOROVOD_GLOO_TIMEOUT_SECONDS=30 PYTHONUNBUFFERED=1 HOROVOD_GLOO_RENDEZVOUS_ADDR=172.16.0.170 HOROVOD_GLOO_RENDEZVOUS_PORT=21295 HOROVOD_CONTROLLER=gloo HOROVOD_CPU_OPERATIONS=gloo HOROVOD_GLOO_IFACE=eth0 NCCL_SOCKET_IFNAME=eth0 HOROVOD_ELASTIC=1 python /examples/elastic/tensorflow2_mnist_elastic.py\r\nWed Nov  3 07:24:32 2021[1]<stderr>:+ POD_NAME=tensorflow-mnist-elastic-worker-0\r\nWed Nov  3 07:24:32 2021[1]<stderr>:+ shift\r\nWed Nov  3 07:24:32 2021[1]<stderr>:+ /opt/kube/kubectl exec tensorflow-mnist-elastic-worker-0 -- /bin/sh -c cd /examples > /dev/null 2>&1 ; HOROVOD_HOSTNAME=tensorflow-mnist-elastic-worker-0 HOROVOD_RANK=1 HOROVOD_SIZE=2 HOROVOD_LOCAL_RANK=0 HOROVOD_LOCAL_SIZE=1 HOROVOD_CROSS_RANK=1 HOROVOD_CROSS_SIZE=2  PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin HOSTNAME=tensorflow-mnist-elastic-launcher OMPI_MCA_plm_rsh_agent=/etc/mpi/k"]
[174.497173, "o", "ubexec.sh OMPI_MCA_orte_default_hostfile=/etc/mpi/hostfile NVIDIA_VISIBLE_DEVICES='' NVIDIA_DRIVER_CAPABILITIES='' KUBERNETES_SERVICE_HOST=172.16.252.1 KUBERNETES_SERVICE_PORT=443 KUBERNETES_SERVICE_PORT_HTTPS=443 KUBERNETES_PORT=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP_PROTO=tcp KUBERNETES_PORT_443_TCP_PORT=443 KUBERNETES_PORT_443_TCP_ADDR=172.16.252.1 TENSORFLOW_VERSION=2.3.0 PYTORCH_VERSION=1.6.0 TORCHVISION_VERSION=0.7.0 MXNET_VERSION=1.5.0 PYTHON_VERSION=3.7 HOME=/root LC_CTYPE=C.UTF-8 HOROVOD_STALL_CHECK_TIME_SECONDS=60 HOROVOD_STALL_SHUTDOWN_TIME_SECONDS=0 HOROVOD_NUM_NCCL_STREAMS=1 HOROVOD_CCL_BGT_AFFINITY=0 HOROVOD_GLOO_TIMEOUT_SECONDS=30 PYTHONUNBUFFERED=1 HOROVOD_GLOO_RENDEZVOUS_ADDR=172.16.0.170 HOROVOD_GLOO_RENDEZVOUS_PORT=21295 HOROVOD_CONTROLLER=gloo HOROVOD_CPU_OPERATIONS=gloo HOROVOD_GLOO_IFACE=eth0 NCCL_SOCKET_IFNAME=eth0 HOROVOD_ELASTIC=1 python /examples/elastic/tensorflow2_mnist_elastic.py\r\nWed Nov  3 07:24:34 2021[0]<stdout>:Downloadin"]
[174.497201, "o", "g data from https://storage.googleapis.com/tensorflow/tf-keras-datasets/mnist.npz\r\nWed Nov  3 07:24:34 2021[1]<stdout>:Downloading data from https://storage.googleapis.com/tensorflow/tf-keras-datasets/mnist.npz\r\n"]
[174.498868, "o", "Wed Nov  3 07:24:34 2021[0]<stdout>:\rWed Nov  3 07:24:34 2021[1]<stdout>:\rWed Nov  3 07:24:34 2021[0]<stdout>:    8192/11490434 [..............................] - ETA: 2s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:    8192/11490434 [..............................] - ETA: 2s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>:   57344/11490434 [..............................] - ETA: 11s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:   40960/11490434 [..............................] - ETA: 15s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>:  221184/11490434 [..............................] - ETA: 5s \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:  106496/11490434 [..............................] - ETA: 11s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rW"]
[174.498941, "o", "ed Nov  3 07:24:34 2021[0]<stdout>:  745472/11490434 [>.............................] - ETA: 2s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:  253952/11490434 [..............................] - ETA: 7s \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>: 2539520/11490434 [=====>........................] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>: 8716288/11490434 [=====================>........] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[0]<stdout>:11493376/11490434 [==============================] - 0s 0us/step\r\nWed Nov  3 07:24:34 2021[1]<stdout>:  565248/11490434 [>.............................] - ETA: 4s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:  696320/11490434 [>.............................] - ETA: 4s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b"]
[174.49902, "o", "\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:  827392/11490434 [=>............................] - ETA: 4s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>: 3981312/11490434 [=========>....................] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>: 5652480/11490434 [=============>................] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:24:34 2021[1]<stdout>:11493376/11490434 [==============================] - 0s 0us/step\r\nWed Nov  3 07:24:35 2021[0]<stderr>:2021-11-03 07:24:35.162587: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN)to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA\r\nWed Nov  3 07:24:35 2021[0]<stderr>:To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\nWed Nov "]
[174.499046, "o", " 3 07:24:35 2021[0]<stderr>:2021-11-03 07:24:35.166310: I tensorflow/core/platform/profile_utils/cpu_utils.cc:104] CPU Frequency: 3392020000 Hz\r\n"]
[174.499151, "o", "Wed Nov  3 07:24:35 2021[0]<stderr>:2021-11-03 07:24:35.166589: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x3bf2de0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\n"]
[174.531207, "o", "Wed Nov  3 07:24:35 2021[0]<stderr>:2021-11-03 07:24:35.166604: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\nWed Nov  3 07:24:35 2021[1]<stderr>:2021-11-03 07:24:35.402343: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN)to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA\r\nWed Nov  3 07:24:35 2021[1]<stderr>:To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\nWed Nov  3 07:24:35 2021[1]<stderr>:2021-11-03 07:24:35.405847: I tensorflow/core/platform/profile_utils/cpu_utils.cc:104] CPU Frequency: 3392030000 Hz\r\nWed Nov  3 07:24:35 2021[1]<stderr>:2021-11-03 07:24:35.406107: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x4abff30 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\nWed Nov  3 07:24:35 2021[1]<stderr>:2021-11-03 07:24:35.4"]
[174.531239, "o", "06122: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\nWed Nov  3 07:24:37 2021[0]<stdout>:Step #0\tLoss: 2.137987\r\nWed Nov  3 07:24:37 2021[1]<stdout>:Step #0\tLoss: 2.137974\r\nWed Nov  3 07:24:39 2021[1]<stdout>:Step #10\tLoss: 0.719737\r\nWed Nov  3 07:24:39 2021[0]<stdout>:Step #10\tLoss: 0.683748\r\nWed Nov  3 07:24:42 2021[1]<stdout>:Step #20\tLoss: 0.460311\r\nWed Nov  3 07:24:42 2021[0]<stdout>:Step #20\tLoss: 0.501839\r\nWed Nov  3 07:24:44 2021[1]<stdout>:Step #30\tLoss: 0.300607\r\nWed Nov  3 07:24:44 2021[0]<stdout>:Step #30\tLoss: 0.305247\r\nWed Nov  3 07:24:46 2021[1]<stdout>:Step #40\tLoss: 0.357977\r\nWed Nov  3 07:24:46 2021[0]<stdout>:Step #40\tLoss: 0.303216\r\nWed Nov  3 07:24:48 2021[0]<stdout>:Step #50\tLoss: 0.232337\r\nWed Nov  3 07:24:48 2021[1]<stdout>:Step #50\tLoss: 0.289517\r\nWed Nov  3 07:24:50 2021[1]<stdout>:Step #60\tLoss: 0.172167\r\nWed Nov  3 07:24:50 2021[0]<stdout>:Step #60\tLoss: 0.169299\r\nWed Nov  3 07:24:52 2021[0]<stdout>:Step #70\tLoss: 0.206800\r\nWe"]
[174.531263, "o", "d Nov  3 07:24:52 2021[1]<stdout>:Step #70\tLoss: 0.151704\r\nWed Nov  3 07:24:54 2021[0]<stdout>:Step #80\tLoss: 0.199875\r\n"]
[174.531316, "o", "Wed Nov  3 07:24:54 2021[1]<stdout>:Step #80\tLoss: 0.141387\r\nWed Nov  3 07:24:56 2021[1]<stdout>:Step #90\tLoss: 0.184644\r\nWed Nov  3 07:24:56 2021[0]<stdout>:Step #90\tLoss: 0.154726\r\nWed Nov  3 07:24:58 2021[0]<stdout>:Step #100\tLoss: 0.142690\r\nWed Nov  3 07:24:58 2021[1]<stdout>:Step #100\tLoss: 0.103419\r\nWed Nov  3 07:25:00 2021[0]<stdout>:Step #110\tLoss: 0.180092\r\nWed Nov  3 07:25:00 2021[1]<stdout>:Step #110\tLoss: 0.141056\r\nWed Nov  3 07:25:02 2021[0]<stdout>:Step #120\tLoss: 0.059750\r\nWed Nov  3 07:25:02 2021[1]<stdout>:Step #120\tLoss: 0.192430\r\nWed Nov  3 07:25:04 2021[0]<stdout>:Step #130\tLoss: 0.144789\r\nWed Nov  3 07:25:04 2021[1]<stdout>:Step #130\tLoss: 0.079801\r\nWed Nov  3 07:25:06 2021[0]<stdout>:Step #140\tLoss: 0.095121\r\nWed Nov  3 07:25:06 2021[1]<stdout>:Step #140\tLoss: 0.112793\r\nWed Nov  3 07:25:08 2021[1]<stdout>:Step #150\tLoss: 0.097118\r\nWed Nov  3 07:25:08 2021[0]<stdout>:Step #150\tLoss: 0.089892\r\nWed Nov  3 07:25:10 2021[0]<stdout>:Step #160\tLoss: 0.147105\r\nWed Nov  3 07:25:10 2021[1]<stdout>"]
[174.531335, "o", ":Step #160\tLoss: 0.120131\r\nWed Nov  3 07:25:12 2021[0]<stdout>:Step #170\tLoss: 0.082995\r\nWed Nov  3 07:25:12 2021[1]<stdout>:Step #170\tLoss: 0.094643\r\nWed Nov  3 07:25:14 2021[0]<stdout>:Step #180\tLoss: 0.158584\r\nWed Nov  3 07:25:14 2021[1]<stdout>:Step #180\tLoss: 0.041079\r\nWed Nov  3 07:25:16 2021[1]<stdout>:Step #190\tLoss: 0.105988\r\nWed Nov  3 07:25:16 2021[0]<stdout>:Step #190\tLoss: 0.149507\r\nWed Nov  3 07:25:18 2021[1]<stdout>:Step #200\tLoss: 0.082872\r\nWed Nov  3 07:25:18 2021[0]<stdout>:Step #200\tLoss: 0.092123\r\nWed Nov  3 07:25:20 2021[0]<stdout>:Step #210\tLoss: 0.050733\r\nWed Nov  3 07:25:20 2021[1]<stdout>:Step #210\tLoss: 0.057802\r\nWed Nov  3 07:25:22 2021[1]<stdout>:Step #220\tLoss: 0.069701\r\nWed Nov  3 07:25:22 2021[0]<stdout>:Step #220\tLoss: 0.109347\r\nWed Nov  3 07:25:24 2021[0]<stdout>:Step #230\tLoss: 0.080634\r\nWed Nov  3 07:25:24 2021[1]<stdout>:Step #230\tLoss: 0.192162\r\nWed Nov  3 07:25:27 2021[0]<stdout>:Step #240\tLoss: 0.107724\r\nWed Nov  3 07:25:27 2021[1]<stdout>:Step #240\tLoss: 0.061392\r\nWed N"]
[174.531349, "o", "ov  3 07:25:29 2021[0]<stdout>:Step #250\tLoss: 0.115875\r\nWed Nov  3 07:25:29 2021[1]<stdout>:Step #250\tLoss: 0.036687\r\nWed Nov  3 07:25:31 2021[1]<stdout>:Step #260\tLoss: 0.087842\r\nWed Nov  3 07:25:31 2021[0]<stdout>:Step #260\tLoss: 0.061072\r\nWed Nov  3 07:25:33 2021[0]<stdout>:Step #270\tLoss: 0.098948\r\nWed Nov  3 07:25:33 2021[1]<stdout>:Step #270\tLoss: 0.151105\r\nWed Nov  3 07:25:35 2021[0]<stdout>:Step #280\tLoss: 0.132341\r\nWed Nov  3 07:25:35 2021[1]<stdout>:Step #280\tLoss: 0.118096\r\n"]
[174.531372, "o", "Wed Nov  3 07:25:37 2021[0]<stdout>:Step #290\tLoss: 0.099226\r\nWed Nov  3 07:25:37 2021[1]<stdout>:Step #290\tLoss: 0.144145\r\nWed Nov  3 07:25:39 2021[1]<stdout>:Step #300\tLoss: 0.125562\r\nWed Nov  3 07:25:39 2021[0]<stdout>:Step #300\tLoss: 0.068911\r\nWed Nov  3 07:25:41 2021[0]<stdout>:Step #310\tLoss: 0.070813\r\nWed Nov  3 07:25:41 2021[1]<stdout>:Step #310\tLoss: 0.057307\r\nWed Nov  3 07:25:43 2021[1]<stdout>:Step #320\tLoss: 0.040097\r\nWed Nov  3 07:25:43 2021[0]<stdout>:Step #320\tLoss: 0.090056\r\nWed Nov  3 07:25:45 2021[1]<stdout>:Step #330\tLoss: 0.056088\r\nWed Nov  3 07:25:45 2021[0]<stdout>:Step #330\tLoss: 0.176431\r\nWed Nov  3 07:25:47 2021[0]<stdout>:Step #340\tLoss: 0.034975\r\nWed Nov  3 07:25:47 2021[1]<stdout>:Step #340\tLoss: 0.062929\r\nWed Nov  3 07:25:47 2021[2]<stderr>:+ POD_NAME=tensorflow-mnist-elastic-worker-2\r\nWed Nov  3 07:25:47 2021[2]<stderr>:+ shift\r\n"]
[174.531389, "o", "Wed Nov  3 07:25:47 2021[2]<stderr>:+ /opt/kube/kubectl exec tensorflow-mnist-elastic-worker-2 -- /bin/sh -c cd /examples > /dev/null 2>&1 ; HOROVOD_HOSTNAME=tensorflow-mnist-elastic-worker-2 HOROVOD_RANK=2 HOROVOD_SIZE=3 HOROVOD_LOCAL_RANK=0 HOROVOD_LOCAL_SIZE=1 HOROVOD_CROSS_RANK=2 HOROVOD_CROSS_SIZE=3  PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin HOSTNAME=tensorflow-mnist-elastic-launcher OMPI_MCA_plm_rsh_agent=/etc/mpi/kubexec.sh OMPI_MCA_orte_default_hostfile=/etc/mpi/hostfile NVIDIA_VISIBLE_DEVICES='' NVIDIA_DRIVER_CAPABILITIES='' KUBERNETES_SERVICE_HOST=172.16.252.1 KUBERNETES_SERVICE_PORT=443 KUBERNETES_SERVICE_PORT_HTTPS=443 KUBERNETES_PORT=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP=tcp://172.16.252.1:443 KUBERNETES_PORT_443_TCP_PROTO=tcp KUBERNETES_PORT_443_TCP_PORT=443 KUBERNETES_PORT_443_TCP_ADDR=172.16.252.1 TENSORFLOW_VERSION=2.3.0 PYTORCH_VERSION=1.6.0 TORCHVISION_VERSION=0.7.0 MXNET_VERSION=1.5.0 PYTHON_VERSION=3.7 HOME=/root LC_CTYPE=C.UTF-8 HOROVOD_STALL_CHECK_TIME_S"]
[174.531402, "o", "ECONDS=60 HOROVOD_STALL_SHUTDOWN_TIME_SECONDS=0 HOROVOD_NUM_NCCL_STREAMS=1 HOROVOD_CCL_BGT_AFFINITY=0 HOROVOD_GLOO_TIMEOUT_SECONDS=30 PYTHONUNBUFFERED=1 HOROVOD_GLOO_RENDEZVOUS_ADDR=172.16.0.170 HOROVOD_GLOO_RENDEZVOUS_PORT=21295 HOROVOD_CONTROLLER=gloo HOROVOD_CPU_OPERATIONS=gloo HOROVOD_GLOO_IFACE=eth0 NCCL_SOCKET_IFNAME=eth0 HOROVOD_ELASTIC=1 python /examples/elastic/tensorflow2_mnist_elastic.py\r\nWed Nov  3 07:25:49 2021[2]<stdout>:Downloading data from https://storage.googleapis.com/tensorflow/tf-keras-datasets/mnist.npz\r\nWed Nov  3 07:25:49 2021[2]<stdout>:\rWed Nov  3 07:25:49 2021[2]<stdout>:    8192/11490434 [..............................] - ETA: 4s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>:   40960/11490434 [..............................] - ETA: 15s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>:  114688/11490434 [..............................] - ETA: 10s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b"]
[174.531414, "o", "\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>:  286720/11490434 [..............................] - ETA: 6s \b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>:  540672/11490434 [>.............................] - ETA: 4s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>: 1163264/11490434 [==>...........................] - ETA: 2s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>: 3063808/11490434 [======>.......................] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>: 6397952/11490434 [===============>..............] - ETA: 0s\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\rWed Nov  3 07:25:49 2021[2]<stdout>:11493376/11490434 [==============================] - 0s 0us/step\r\nWed Nov  3 07:25:50 2021[2]<stderr>:2021-11-03 07:25:50.337697: I tensorflow/core/platform/cpu_feature_guard.cc:142]"]
[174.531475, "o", " This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN)to use the following CPU instructions in performance-critical operations:  AVX2 AVX512F FMA\r\nWed Nov  3 07:25:50 2021[2]<stderr>:To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\nWed Nov  3 07:25:50 2021[2]<stderr>:2021-11-03 07:25:50.341210: I tensorflow/core/platform/profile_utils/cpu_utils.cc:104] CPU Frequency: 3392030000 Hz\r\nWed Nov  3 07:25:50 2021[2]<stderr>:2021-11-03 07:25:50.341463: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x3a020d0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:\r\nWed Nov  3 07:25:50 2021[2]<stderr>:2021-11-03 07:25:50.341478: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version\r\nWed Nov  3 07:25:54 2021[1]<stdout>:Step #350\tLoss: 0.066030\r\nWed Nov  3 07:25:54 2021[0]<stdout>:Step #350\tLoss: 0.082708\r\nWed Nov  3 07:25:54 2021[2]<stdout>:Step #350\tLos"]
[174.531529, "o", "s: 0.237902\r\nWed Nov  3 07:25:56 2021[0]<stdout>:Step #360\tLoss: 0.039469\r\nWed Nov  3 07:25:56 2021[1]<stdout>:Step #360\tLoss: 0.062769\r\nWed Nov  3 07:25:56 2021[2]<stdout>:Step #360\tLoss: 0.062292\r\n"]
[174.533252, "o", "Wed Nov  3 07:25:58 2021[1]<stdout>:Step #370\tLoss: 0.140238\r\nWed Nov  3 07:25:58 2021[0]<stdout>:Step #370\tLoss: 0.072329\r\nWed Nov  3 07:25:58 2021[2]<stdout>:Step #370\tLoss: 0.104218\r\nWed Nov  3 07:26:01 2021[1]<stdout>:Step #380\tLoss: 0.129325\r\nWed Nov  3 07:26:01 2021[0]<stdout>:Step #380\tLoss: 0.071511\r\nWed Nov  3 07:26:01 2021[2]<stdout>:Step #380\tLoss: 0.078255\r\nWed Nov  3 07:26:03 2021[1]<stdout>:Step #390\tLoss: 0.107501\r\nWed Nov  3 07:26:03 2021[0]<stdout>:Step #390\tLoss: 0.028460\r\nWed Nov  3 07:26:03 2021[2]<stdout>:Step #390\tLoss: 0.083009\r\nWed Nov  3 07:26:05 2021[1]<stdout>:Step #400\tLoss: 0.034687\r\nWed Nov  3 07:26:05 2021[0]<stdout>:Step #400\tLoss: 0.063206\r\nWed Nov  3 07:26:05 2021[2]<stdout>:Step #400\tLoss: 0.080218\r\nWed Nov  3 07:26:07 2021[1]<stdout>:Step #410\tLoss: 0.058469\r\nWed Nov  3 07:26:07 2021[0]<stdout>:Step #410\tLoss: 0.085680\r\nWed Nov  3 07:26:07 2021[2]<stdout>:Step #410\tLoss: 0.096150\r\nWed Nov  3 07:26:09 2021[1]<stdout>:Step #420\tLoss: 0.107295\r\nWed Nov  3 07:26:09 2021[0]<stdo"]
[174.533337, "o", "ut>:Step #420\tLoss: 0.080741\r\nWed Nov  3 07:26:09 2021[2]<stdout>:Step #420\tLoss: 0.050093\r\nWed Nov  3 07:26:11 2021[0]<stdout>:Step #430\tLoss: 0.078112\r\nWed Nov  3 07:26:11 2021[1]<stdout>:Step #430\tLoss: 0.054284\r\nWed Nov  3 07:26:11 2021[2]<stdout>:Step #430\tLoss: 0.114231\r\nWed Nov  3 07:26:13 2021[1]<stdout>:Step #440\tLoss: 0.045448\r\nWed Nov  3 07:26:13 2021[0]<stdout>:Step #440\tLoss: 0.109683\r\nWed Nov  3 07:26:13 2021[2]<stdout>:Step #440\tLoss: 0.172228\r\nWed Nov  3 07:26:15 2021[2]<stdout>:Step #450\tLoss: 0.073122\r\nWed Nov  3 07:26:15 2021[1]<stdout>:Step #450\tLoss: 0.064301\r\nWed Nov  3 07:26:15 2021[0]<stdout>:Step #450\tLoss: 0.030307\r\nWed Nov  3 07:26:17 2021[1]<stdout>:Step #460\tLoss: 0.026527\r\nWed Nov  3 07:26:17 2021[0]<stdout>:Step #460\tLoss: 0.041820\r\nWed Nov  3 07:26:17 2021[2]<stdout>:Step #460\tLoss: 0.122136\r\nWed Nov  3 07:26:19 2021[1]<stdout>:Step #470\tLoss: 0.074148\r\nWed Nov  3 07:26:19 2021[0]<stdout>:Step #470\tLoss: 0.065970\r\nWed Nov  3 07:26:19 2021[2]<stdout>:Step #470\tLoss: 0.068622\r\nWe"]
[174.533423, "o", "d Nov  3 07:26:21 2021[0]<stdout>:Step #480\tLoss: 0.026659\r\nWed Nov  3 07:26:21 2021[1]<stdout>:Step #480\tLoss: 0.065749\r\nWed Nov  3 07:26:21 2021[2]<stdout>:Step #480\tLoss: 0.032424\r\nWed Nov  3 07:26:23 2021[0]<stdout>:Step #490\tLoss: 0.043843\r\nWed Nov  3 07:26:23 2021[1]<stdout>:Step #490\tLoss: 0.015209\r\nWed Nov  3 07:26:23 2021[2]<stdout>:Step #490\tLoss: 0.032164\r\nWed Nov  3 07:26:25 2021[0]<stdout>:Step #500\tLoss: 0.046674\r\nWed Nov  3 07:26:25 2021[1]<stdout>:Step #500\tLoss: 0.032345\r\nWed Nov  3 07:26:25 2021[2]<stdout>:Step #500\tLoss: 0.101597\r\nWed Nov  3 07:26:27 2021[0]<stdout>:Step #510\tLoss: 0.056819\r\nWed Nov  3 07:26:27 2021[1]<stdout>:Step #510\tLoss: 0.019134\r\nWed Nov  3 07:26:27 2021[2]<stdout>:Step #510\tLoss: 0.078624\r\nWed Nov  3 07:26:29 2021[0]<stdout>:Step #520\tLoss: 0.030582\r\nWed Nov  3 07:26:29 2021[1]<stdout>:Step #520\tLoss: 0.034984\r\nWed Nov  3 07:26:29 2021[2]<stdout>:Step #520\tLoss: 0.067243\r\nWed Nov  3 07:26:31 2021[0]<stdout>:Step #530\tLoss: 0.030838\r\nWed Nov  3 07:26:31 2021[1]<stdout"]
[174.53349, "o", ">:Step #530\tLoss: 0.024717\r\nWed Nov  3 07:26:31 2021[2]<stdout>:Step #530\tLoss: 0.026538\r\nWed Nov  3 07:26:33 2021[0]<stdout>:Step #540\tLoss: 0.112320\r\nWed Nov  3 07:26:33 2021[2]<stdout>:Step #540\tLoss: 0.085208\r\nWed Nov  3 07:26:33 2021[1]<stdout>:Step #540\tLoss: 0.046123\r\nWed Nov  3 07:26:36 2021[1]<stdout>:Step #550\tLoss: 0.136517\r\nWed Nov  3 07:26:36 2021[0]<stdout>:Step #550\tLoss: 0.022864\r\nWed Nov  3 07:26:36 2021[2]<stdout>:Step #550\tLoss: 0.042751\r\nWed Nov  3 07:26:38 2021[0]<stdout>:Step #560\tLoss: 0.064934\r\nWed Nov  3 07:26:38 2021[1]<stdout>:Step #560\tLoss: 0.031345\r\nWed Nov  3 07:26:38 2021[2]<stdout>:Step #560\tLoss: 0.031098\r\nWed Nov  3 07:26:40 2021[0]<stdout>:Step #570\tLoss: 0.046476\r\nWed Nov  3 07:26:40 2021[1]<stdout>:Step #570\tLoss: 0.040696\r\nWed Nov  3 07:26:40 2021[2]<stdout>:Step #570\tLoss: 0.029457\r\n"]
[174.82222, "o", "Wed Nov  3 07:26:42 2021[0]<stdout>:Step #580\tLoss: 0.058887\r\nWed Nov  3 07:26:42 2021[2]<stdout>:Step #580\tLoss: 0.026783\r\n"]
[174.823895, "o", "Wed Nov  3 07:26:42 2021[1]<stdout>:Step #580\tLoss: 0.141538\r\n"]
[176.915321, "o", "Wed Nov  3 07:26:44 2021[0]<stdout>:Step #590\tLoss: 0.033729\r\nWed Nov  3 07:26:44 2021[1]<stdout>:Step #590\tLoss: 0.032140\r\nWed Nov  3 07:26:44 2021[2]<stdout>:Step #590\tLoss: 0.066712\r\n"]
[177.042781, "o", "Wed Nov  3 07:26:44 2021[1]<stderr>:[2021-11-03 07:26:44.387652: E /tmp/pip-install-2jy0u7mn/horovod/horovod/common/operations.cc:525] Horovod background loop uncaught exception: [/tmp/pip-install-2jy0u7mn/horovod/third_party/compatible_gloo/gloo/transport/tcp/pair.cc:575] Connection closed by peer [172.16.0.88]:25251\r\n"]
[177.044304, "o", "Wed Nov  3 07:26:44 2021[2]<stderr>:command terminated with exit code 137\r\n"]
[177.095012, "o", "Wed Nov  3 07:26:44 2021[0]<stderr>:[2021-11-03 07:26:44.440851: E /tmp/pip-install-2jy0u7mn/horovod/horovod/common/operations.cc:525] Horovod background loop uncaught exception: [/tmp/pip-install-2jy0u7mn/horovod/third_party/compatible_gloo/gloo/transport/tcp/pair.cc:575] Connection closed by peer [172.16.0.87]:50099\r\n"]
[177.104404, "o", "Wed Nov  3 07:26:44 2021[0]<stderr>:2021-11-03 07:26:44.451498: W tensorflow/core/framework/op_kernel.cc:1767] OP_REQUIRES failed at mpi_ops.cc:402 : Unknown: Horovod has been shut down. This was caused by an exception on one of the ranks or an attempt to allreduce, allgather or broadcast a tensor after one of the ranks finished execution. If the shutdown was caused by an exception, you should see the exception in the log before the first shutdown message.\r\n"]
[177.11545, "o", "WARNING:root:blacklist failing host: tensorflow-mnist-elastic-worker-2\r\n"]
[177.230822, "o", "Process 2 exit with status code 137.\r\n"]
[177.711226, "o", "Wed Nov  3 07:26:45 2021[0]<stdout>:Step #590\tLoss: 0.040478\r\nWed Nov  3 07:26:45 2021[1]<stdout>:Step #590\tLoss: 0.042462\r\n"]
[179.799727, "o", "Wed Nov  3 07:26:47 2021[1]<stdout>:Step #600\tLoss: 0.052098\r\nWed Nov  3 07:26:47 2021[0]<stdout>:Step #600\tLoss: 0.040896\r\n"]
[181.813958, "o", "Wed Nov  3 07:26:49 2021[0]<stdout>:Step #610\tLoss: 0.027187\r\nWed Nov  3 07:26:49 2021[1]<stdout>:Step #610\tLoss: 0.032300\r\n"]
[182.816913, "o", "^C"]
[182.818399, "o", "\r\n"]
[182.818496, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[182.818569, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007"]
[182.818855, "o", "\u001b]1;~/workload\u0007"]
[182.823304, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[31m✘ \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[182.823393, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[183.526938, "o", "kubectl logs -f tensorflow-mnist-elastic-launcher"]
[183.696946, "o", "\u001b[41Dget po                                   \u001b[35D"]
[184.211083, "o", "\u001b[?1l\u001b>"]
[184.211236, "o", "\u001b[?2004l\r\r\n"]
[184.211567, "o", "\u001b]2;kubectl get po\u0007\u001b]1;kubectl\u0007"]
[184.627468, "o", "NAME                                READY   STATUS    RESTARTS   AGE\r\ninference-mocked-66788c5d56-8pww5   1/1     Running   0          37s\r\ninference-mocked-66788c5d56-lx4sd   1/1     Running   0          37s\r\ninference-mocked-66788c5d56-nskdq   1/1     Running   0          37s\r\ntensorflow-mnist-elastic-launcher   1/1"]
[184.627542, "o", "     Running   0          2m24s\r\ntensorflow-mnist-elastic-worker-0   1/1     Running   0          2m24s\r\ntensorflow-mnist-elastic-worker-1   1/1     Running   0          2m24s\r\ntensorflow-mnist-elastic-worker-2   0/1     Pending   0          5s\r\n"]
[184.629045, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[184.629181, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[184.633854, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[184.633959, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[191.456872, "o", "k"]
[191.607783, "o", "\bku"]
[191.689914, "o", "b"]
[191.78114, "o", "e"]
[191.995812, "o", "c"]
[192.142223, "o", "t"]
[192.251667, "o", "l"]
[192.374252, "o", " "]
[193.803578, "o", "g"]
[193.891891, "o", "e"]
[194.030622, "o", "t"]
[194.137793, "o", " "]
[194.218994, "o", "d"]
[194.37096, "o", "e"]
[194.472113, "o", "p"]
[194.664733, "o", "l"]
[194.849157, "o", "o"]
[194.93038, "o", "y"]
[195.199935, "o", "\u001b[?1l\u001b>"]
[195.200114, "o", "\u001b[?2004l\r\r\n"]
[195.20028, "o", "\u001b]2;kubectl get deploy\u0007\u001b]1;kubectl\u0007"]
[195.499834, "o", "NAME               READY   UP-TO-DATE   AVAILABLE   AGE\r\ninference-mocked   3/3     3            3           48s\r\n"]
[195.5014, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[195.501522, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[195.506324, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[195.506421, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[195.972627, "o", "k"]
[196.129157, "o", "\bku"]
[196.190081, "o", "b"]
[196.293457, "o", "e"]
[196.502856, "o", "c"]
[196.650674, "o", "t"]
[196.737082, "o", "l"]
[196.835514, "o", " "]
[196.960015, "o", "e"]
[197.133281, "o", "d"]
[197.258787, "o", "i"]
[197.339896, "o", "t"]
[197.464671, "o", " "]
[197.644212, "o", "d"]
[197.804165, "o", "e"]
[197.965148, "o", "p"]
[198.150729, "o", "l"]
[198.339422, "o", "o"]
[198.366486, "o", "y"]
[198.697136, "o", " "]
[201.664789, "o", "\u001b[7minference-mocked\u001b[27m"]
[202.218047, "o", "\u001b[16D\u001b[27mi\u001b[27mn\u001b[27mf\u001b[27me\u001b[27mr\u001b[27me\u001b[27mn\u001b[27mc\u001b[27me\u001b[27m-\u001b[27mm\u001b[27mo\u001b[27mc\u001b[27mk\u001b[27me\u001b[27md"]
[202.21822, "o", "\u001b[?1l\u001b>\u001b[?2004l\r\r\n"]
[202.219075, "o", "\u001b]2;kubectl edit deploy inference-mocked\u0007\u001b]1;kubectl\u0007"]
[202.558318, "o", "\u001b[?2004h\u001b[?1049h\u001b[22;0;0t\u001b[?1h\u001b=\u001b[?2004h"]
[202.558693, "o", "\u001b[1;35r\u001b[?12h\u001b[?12l\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[?25l\u001b[35;1H\"/tmp/kubectl-edit-1973441186.yaml\""]
[202.558764, "o", " 77L, 2165C"]
[202.559408, "o", "\u001b[1;1H# Please edit the object below. Lines beginning with a '#' will be ignored,\r\n# and an empty file will abort the edit. If an error occurs while saving this file will be\r\n# reopened with the relevant failures.\r\n#\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  annotations:\r\n    deployment.kubernetes.io/revision: \"1\"\r\n  creationTimestamp: \"2021-11-03T07:26:14Z\"\r\n  generation: 1\r\n  labels:\r\n    app: inference\r\n  name: inference-mocked\r\n  namespace: default\r\n  resourceVersion: \"2376025195\"\r\n  selfLink: /apis/apps/v1/namespaces/default/deployments/inference-mocked\r\n  uid: d85dee9b-b140-4399-86d7-cddf0d3d6c1c\r\nspec:\r\n  progressDeadlineSeconds: 600\r\n  replicas: 3\r\n  revisionHistoryLimit: 10\r\n  selector:\r\n    matchLabels:\u001b[25;7Happ: inference\r\n  strategy:\r\n    rollingUpdate:\u001b[28;7HmaxSurge: 25%\u001b[29;7HmaxUnavailable: 25%\r\n    type: RollingUpdate\r\n  template:\r\n    metadata:\u001b[33;7HcreationTimestamp: null\u001b[34;7Hlabels:\u001b[1;1H\u001b[?25h"]
[203.013452, "o", "\u001b[?25l\u001b[35;1H\u001b[K\u001b[35;1H/\u001b[?2004h\u001b[?25h"]
[203.18565, "o", "r"]
[203.330654, "o", "e"]
[203.431944, "o", "p"]
[203.626523, "o", "l"]
[203.793393, "o", "i"]
[203.868737, "o", "c"]
[203.98212, "o", "a"]
[204.151339, "o", "s"]
[204.279157, "o", "\r"]
[204.27928, "o", "\u001b[?25l\u001b[21;3H\u001b[?25h"]
[204.989397, "o", "\u001b[?25l\u001b[35;1H"]
[204.989549, "o", "\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;9Hresources:\u001b[2;11Hlimits:\u001b[3;13Hcpu: \"2\"\u001b[4;13Hmemory: 4Gi\u001b[5;11Hrequests:\u001b[6;13Hcpu: \"2\"\u001b[7;13Hmemory: 4Gi\u001b[8;9HterminationMessagePath: /dev/termination-log\u001b[9;9HterminationMessagePolicy: File\u001b[10;7HdnsPolicy: ClusterFirst\u001b[11;7HpriorityClassName: inference-pc\u001b[12;7HrestartPolicy: Always\u001b[13;7HschedulerName: default-scheduler\u001b[14;7HsecurityContext: {}\u001b[15;7HterminationGracePeriodSeconds: 30\r\nstatus:\r\n  availableReplicas: 3\r\n  conditions:\r\n  - lastTransitionTime: \"2021-11-03T07:26:46Z\"\r\n    lastUpdateTime: \"2021-11-03T07:26:46Z\"\r\n    message: Deployment has minimum availability.\r\n    reason: MinimumReplicasAvailable\r\n    status: \"True\"\r\n    type: Available\r\n  - lastTransitionTime: \"2021-11-03T07:26:14Z\"\r\n    lastUpdateTime: \"2021-11-03T07:26:46Z\"\r\n    message: ReplicaSet \"inference-mocked-66788c5d56\" has successfully progressed.\r\n    reason: NewReplicaSetAvailable\r\n    status: \"True\"\r\n    type: Progressing\r\n  observedGeneration: 1\r\n  readyReplicas: 3\r\n  replicas: 3\r\n  updatedRepl"]
[204.989619, "o", "icas: 3\u001b[33;3H\u001b[?25h"]
[205.607258, "o", "r"]
[206.108483, "o", "e"]
[206.191581, "o", "p"]
[206.275449, "o", "l"]
[206.359747, "o", "i"]
[206.443785, "o", "c"]
[206.527741, "o", "a"]
[206.611799, "o", "s"]
[206.694639, "o", ":"]
[206.777843, "o", " "]
[206.862011, "o", "\u0007"]
[207.58219, "o", "\u001b[?25l\r\n\r\n/replicas\r"]
[207.582349, "o", "\u001b[31msearch hit BOTTOM, continuing at TOP\u001b[27m\u001b[23m\u001b[29m\u001b[m\u001b[H\u001b[2J\u001b[1;1HapiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  annotations:\r\n    deployment.kubernetes.io/revision: \"1\"\r\n  creationTimestamp: \"2021-11-03T07:26:14Z\"\r\n  generation: 1\r\n  labels:\r\n    app: inference\r\n  name: inference-mocked\r\n  namespace: default\r\n  resourceVersion: \"2376025195\"\r\n  selfLink: /apis/apps/v1/namespaces/default/deployments/inference-mocked\r\n  uid: d85dee9b-b140-4399-86d7-cddf0d3d6c1c\r\nspec:\r\n  progressDeadlineSeconds: 600\r\n  replicas: 3\r\n  revisionHistoryLimit: 10\r\n  selector:\r\n    matchLabels:\u001b[21;7Happ: inference\r\n  strategy:\r\n    rollingUpdate:\u001b[24;7HmaxSurge: 25%\u001b[25;7HmaxUnavailable: 25%\r\n    type: RollingUpdate\r\n  template:\r\n    metadata:\u001b[29;7HcreationTimestamp: null\u001b[30;7Hlabels:\u001b[31;9Happ: inference\r\n    spec:\u001b[33;7Hcontainers:\u001b[34;7H- image: ccr.ccs.tencentyun.com/willzgli/nginx:1.17.8\r\n\u001b[31msearch hit BOTTOM, continuing at TOP\u001b[17;3H\u001b[?25h"]
[209.149863, "o", "\u001b[mr"]
[209.650357, "o", "e"]
[209.734835, "o", "p"]
[209.817409, "o", "l"]
[209.901191, "o", "i"]
[209.985369, "o", "c"]
[210.069643, "o", "a"]
[210.153409, "o", "s"]
[210.236802, "o", ":"]
[210.320117, "o", " "]
[210.404237, "o", "\u0007"]
[210.669315, "o", "\u001b[?25l\u001b[35;1H\u001b[1m-- INSERT --\u001b[m\u001b[35;13H\u001b[K\u001b[17;13H\u001b[?25h"]
[210.952748, "o", "3"]
[211.225662, "o", "\u001b[?25l\u001b[17;13H\u001b[K\u001b[17;13H\u001b[?25h"]
[211.38639, "o", "\u001b[?25l1\u001b[?25h"]
[211.644861, "o", "\u001b[35;1H\u001b[K\u001b[17;13H"]
[211.745019, "o", "\u001b[?25l\u001b[?25h"]
[212.081372, "o", "\u001b[?25l\u001b[35;1H:\u001b[?2004h\u001b[?25h"]
[212.18485, "o", "x"]
[212.342089, "o", "\r"]
[212.342258, "o", "\u001b[?25l\u001b[?2004l\"/tmp/kubectl-edit-1973441186.yaml\""]
[212.34921, "o", " 77L, 2165C written\r\r\r\n\u001b[?2004l\u001b[?1l\u001b>\u001b[?25h\u001b[?1049l\u001b[23;0;0t"]
[212.612389, "o", "deployment.apps/inference-mocked edited\r\n"]
[212.615823, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[212.615966, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007"]
[212.616051, "o", "\u001b]1;~/workload\u0007"]
[212.620998, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[212.621144, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[213.062486, "o", "kubectl edit deploy inference-mocked"]
[213.230901, "o", "\u001b[28Dge\u001b[P\u001b[9C                 \u001b[18D"]
[213.767841, "o", "\u001b[?1l\u001b>"]
[213.76802, "o", "\u001b[?2004l\r\r\n"]
[213.768174, "o", "\u001b]2;kubectl get deploy\u0007\u001b]1;kubectl\u0007"]
[214.044649, "o", "NAME               READY   UP-TO-DATE   AVAILABLE   AGE\r\ninference-mocked   1/1     1            1           67s\r\n"]
[214.046078, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[214.046186, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[214.050909, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[214.051013, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[214.830985, "o", "kubectl get deploy"]
[214.972473, "o", "\u001b[10Dedit deploy inference-mocked"]
[215.361121, "o", "\u001b[28Dge\u001b[P\u001b[9C                 \u001b[18D"]
[215.831617, "o", "\b\b\b\b\b\bpo    \b\b\b\b"]
[216.33152, "o", "\u001b[?1l\u001b>"]
[216.331747, "o", "\u001b[?2004l\r\r\n"]
[216.33205, "o", "\u001b]2;kubectl get po\u0007"]
[216.332577, "o", "\u001b]1;kubectl\u0007"]
[216.649427, "o", "NAME                                READY   STATUS        RESTARTS   AGE\r\ninference-mocked-66788c5d56-lx4sd   0/1     Terminating   0          69s\r\ninference-mocked-66788c5d56-nskdq   1/1     Running       0          69s\r\ntensorflow-mnist-elastic-launcher   "]
[216.649492, "o", "1/1     Running       0          2m56s\r\ntensorflow-mnist-elastic-worker-0   1/1     Running       0          2m56s\r\ntensorflow-mnist-elastic-worker-1   1/1     Running       0          2m56s\r\ntensorflow-mnist-elastic-worker-2   1/1     Running       0          37s\r\n"]
[216.651068, "o", "\u001b[1m\u001b[7m#\u001b[27m\u001b[1m\u001b[0m                                                                                                                                                      \r \r"]
[216.651231, "o", "\u001b]2;root@VM-56-234-centos:~/workload\u0007\u001b]1;~/workload\u0007"]
[216.656159, "o", "\r\u001b[0m\u001b[27m\u001b[24m\u001b[J\u001b[39m\u001b[0m\u001b[49m\u001b[40m\u001b[39m \u001b[33m⚡\u001b[40m\u001b[39m \u001b[33mroot@VM-56-234-centos \u001b[44m\u001b[30m\u001b[30m ~/workload \u001b[49m\u001b[34m\u001b[39m \u001b[K"]
[216.656253, "o", "\u001b[?1h\u001b=\u001b[?2004h"]
[220.675597, "o", "e"]
[220.836927, "o", "\bex"]
[220.974556, "o", "i"]
[221.103376, "o", "t"]
[222.425435, "o", "\u001b[?1l\u001b>"]
[222.425574, "o", "\u001b[?2004l\r\r\n"]
[222.425909, "o", "\u001b]2;exit\u0007\u001b]1;exit\u0007"]
[222.426898, "o", "\u001b]0;root@9.135.56.234\u0007[root@VM-56-234-centos ~]# "]
[223.093127, "o", "e"]
[223.259294, "o", "x"]
[223.389485, "o", "i"]
[223.495851, "o", "t"]
[223.721841, "o", "\r\n"]
[223.722004, "o", "exit\r\n"]
